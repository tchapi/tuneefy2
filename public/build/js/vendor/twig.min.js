!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Twig=t():e.Twig=t()}(window,function(){return r=[function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(e){return typeof e}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.exports=r},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";e.exports=function(){function m(e,t,r,n,o,i){return e=v((e>>>0).toString(t),o||0,"0",!1),w(e,"",r,n,i)}function g(e,t,r,n,o){return null!=n&&(e=e.slice(0,n)),w(e,"",t,r,o)}var x=arguments,b=0,e=x[b++],v=function(e,t,r,n){r=r||" ";t=e.length>=t?"":new Array(1+t-e.length>>>0).join(r);return n?e+t:t+e},w=function(e,t,r,n,o){var i=n-e.length;return e=0<i?r||"0"!==o?v(e,n,o,r):[e.slice(0,t.length),v("",i,"0",!0),e.slice(t.length)].join(""):e};try{return e.replace(/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,function(e,t,r,n,o,i){var s,a,c,p,l;if("%%"===e)return"%";for(var u=" ",h=!1,f="",y=0,d=r.length;y<d;y++)switch(r.charAt(y)){case" ":case"0":u=r.charAt(y);break;case"+":f="+";break;case"-":h=!0;break;case"'":y+1<d&&(u=r.charAt(y+1),y++)}if(n=n?+n:0,!isFinite(n))throw new Error("Width must be finite");if(o=o?+o:"d"===i?0:-1<"fFeE".indexOf(i)?6:void 0,t&&0==+t)throw new Error("Argument number must be greater than zero");if(t&&x.length<=+t)throw new Error("Too few arguments");switch(l=t?x[+t]:x[b++],i){case"%":return"%";case"s":return g(l+"",h,n,o,u);case"c":return g(String.fromCharCode(+l),h,n,o,u);case"b":return m(l,2,h,n,o,u);case"o":return m(l,8,h,n,o,u);case"x":return m(l,16,h,n,o,u);case"X":return m(l,16,h,n,o,u).toUpperCase();case"u":return m(l,10,h,n,o,u);case"i":case"d":return s=+l||0,l=(a=(s=Math.round(s-s%1))<0?"-":f)+v(String(Math.abs(s)),o,"0",!1),w(l,a,h,n,u=h&&"0"===u?" ":u);case"e":case"E":case"f":case"F":case"g":case"G":return a=(s=+l)<0?"-":f,c=["toExponential","toFixed","toPrecision"]["efg".indexOf(i.toLowerCase())],p=["toString","toUpperCase"]["eEfFgG".indexOf(i)%2],l=a+Math.abs(s)[c](o),w(l,a,h,n,u)[p]();default:return""}})}catch(e){return!1}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":n(e)){case"number":return isNaN(e)||!isFinite(e)?0:e<0?Math.ceil(e):Math.floor(e);case"string":return parseInt(e,10)||0;default:return+!!e}}},function(e,p,t){!function(o){function i(e,t){for(var r=0,n=e.length-1;0<=n;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;)e.unshift("..");return e}function s(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}p.resolve=function(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){var n=0<=r?arguments[r]:o.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+i(s(e.split("/"),function(e){return!!e}),!t).join("/")||"."},p.normalize=function(e){var t=p.isAbsolute(e),r="/"===n(e,-1);return(e=(e=i(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t?e:".")&&r&&(e+="/"),(t?"/":"")+e},p.isAbsolute=function(e){return"/"===e.charAt(0)},p.join=function(){var e=Array.prototype.slice.call(arguments,0);return p.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},p.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return r<t?[]:e.slice(t,r-t+1)}e=p.resolve(e).substr(1),t=p.resolve(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),i=Math.min(n.length,o.length),s=i,a=0;a<i;a++)if(n[a]!==o[a]){s=a;break}for(var c=[],a=s;a<n.length;a++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},p.sep="/",p.delimiter=":",p.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),r=-1,n=!0,o=e.length-1;1<=o;--o)if(47===e.charCodeAt(o)){if(!n){r=o;break}}else n=!1;return-1===r?t?"/":".":t&&1===r?"/":e.slice(0,r)},p.basename=function(e,t){e=function(e){"string"!=typeof e&&(e+="");for(var t=0,r=-1,n=!0,o=e.length-1;0<=o;--o)if(47===e.charCodeAt(o)){if(!n){t=o+1;break}}else-1===r&&(n=!1,r=o+1);return-1===r?"":e.slice(t,r)}(e);return e=t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},p.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,o=!0,i=0,s=e.length-1;0<=s;--s){var a=e.charCodeAt(s);if(47!==a)-1===n&&(o=!1,n=s+1),46===a?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){r=s+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===r+1?"":e.slice(t,n)};var n="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}.call(this,t(34))},function(e,t,r){"use strict";e.exports=r(8)()},function(e,t,r){"use strict";e.exports=function e(){var t={VERSION:"1.14.0"};return r(9)(t),r(10)(t),r(11)(t),r(18)(t),r(19)(t),r(20)(t),r(31)(t),r(32)(t),r(35)(t),r(36)(t),r(37)(t),r(38)(t),r(39)(t),r(40)(t),r(41)(t),t.exports.factory=e,t.exports}},function(e,t,r){"use strict";var n=r(0)(r(2));function o(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){(0,n.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}e.exports=function(x){function l(e,t){if(e.template.options.rethrow)throw"TwigException"!==(t="string"==typeof t?new x.Error(t):t).type||t.file||(t.file=e.template.id),t;if(x.log.error("Error parsing twig template "+e.template.id+": "),t.stack?x.log.error(t.stack):x.log.error(t.toString()),x.debug)return t.toString()}return x.trace=!1,x.debug=!1,x.cache=!0,x.noop=function(){},x.merge=function(t,r,n){return Object.keys(r).forEach(function(e){(!n||e in t)&&(t[e]=r[e])}),t},x.Error=function(e,t){this.message=e,this.name="TwigException",this.type="TwigException",this.file=t},x.Error.prototype.toString=function(){return this.name+": "+this.message},x.log={trace:function(){if(x.trace&&console){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log(Array.prototype.slice.call(t))}},debug:function(){if(x.debug&&console){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log(Array.prototype.slice.call(t))}}},"undefined"==typeof console?x.log.error=function(){}:void 0!==console.error?x.log.error=function(){var e;(e=console).error.apply(e,arguments)}:void 0!==console.log&&(x.log.error=function(){var e;(e=console).log.apply(e,arguments)}),x.token={},x.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",outputWhitespacePre:"output_whitespace_pre",outputWhitespacePost:"output_whitespace_post",outputWhitespaceBoth:"output_whitespace_both",logicWhitespacePre:"logic_whitespace_pre",logicWhitespacePost:"logic_whitespace_post",logicWhitespaceBoth:"logic_whitespace_both"},x.token.definitions=[{type:x.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:x.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:x.token.type.outputWhitespacePre,open:"{{-",close:"}}"},{type:x.token.type.outputWhitespacePost,open:"{{",close:"-}}"},{type:x.token.type.outputWhitespaceBoth,open:"{{-",close:"-}}"},{type:x.token.type.logicWhitespacePre,open:"{%-",close:"%}"},{type:x.token.type.logicWhitespacePost,open:"{%",close:"-%}"},{type:x.token.type.logicWhitespaceBoth,open:"{%-",close:"-%}"},{type:x.token.type.output,open:"{{",close:"}}"},{type:x.token.type.logic,open:"{%",close:"%}"},{type:x.token.type.comment,open:"{#",close:"#}"}],x.token.strings=['"',"'"],x.token.findStart=function(e){for(var t,r,n,o={position:null,def:null},i=null,s=x.token.definitions.length,a=0;a<s;a++)t=x.token.definitions[a],r=e.indexOf(t.open),n=e.indexOf(t.close),x.log.trace("Twig.token.findStart: ","Searching for ",t.open," found at ",r),0<=r&&t.open.length!==t.close.length&&n<0||(0<=r&&(null===o.position||r<o.position)||0<=r&&null!==o.position&&r===o.position&&(t.open.length>o.def.open.length||t.open.length===o.def.open.length&&(t.close.length,o.def.close.length,0<=n)&&n<i))&&(o.position=r,o.def=t,i=n);return o},x.token.findEnd=function(e,t,r){for(var n,o,i,s,a,c=null,p=!1,l=0,u=null,h=null,f=null;!p;){if(h=u=null,!(0<=(i=e.indexOf(t.close,l))))throw new x.Error("Unable to find closing bracket '"+t.close+"' opened near template position "+r);if(c=i,p=!0,t.type===x.token.type.comment)break;if(t.type===x.token.type.raw)break;for(o=x.token.strings.length,n=0;n<o;n+=1)0<(s=e.indexOf(x.token.strings[n],l))&&s<i&&(null===u||s<u)&&(u=s,h=x.token.strings[n]);if(null!==u)for(f=u+1,c=null,p=!1;;){if((a=e.indexOf(h,f))<0)throw x.Error("Unclosed string in template");if("\\"!==e.slice(a-1,a)){l=a+1;break}f=a+1}}return c},x.tokenize=function(e){for(var t,r=[],n=0,o=null;0<e.length;)if(t=x.token.findStart(e),x.log.trace("Twig.tokenize: ","Found token: ",t),null===t.position)r.push({type:x.token.type.raw,value:e}),e="";else{if(0<t.position&&r.push({type:x.token.type.raw,value:e.slice(0,Math.max(0,t.position))}),e=e.slice(t.position+t.def.open.length),n+=t.position+t.def.open.length,o=x.token.findEnd(e,t.def,n),x.log.trace("Twig.tokenize: ","Token ends at ",o),r.push({type:t.def.type,value:e.slice(0,Math.max(0,o)).trim()}),"\n"===e.slice(o+t.def.close.length,o+t.def.close.length+1))switch(t.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":o+=1}e=e.slice(o+t.def.close.length),n+=o+t.def.close.length}return r},x.compile=function(e){var t=this;try{for(var r,n,o=[],i=[],s=[],a=null,c=null,p=null,l=null,u=null,h=null,f=null,y=null,d=null,m=function(e){x.expression.compile.call(t,e),(0<i.length?s:o).push(e)},g=function(e){if(a=x.logic.compile.call(t,e),f=a.type,y=x.logic.handler[f].open,d=x.logic.handler[f].next,x.log.trace("Twig.compile: ","Compiled logic token to ",a," next is: ",d," open is : ",y),void 0!==y&&!y){if(c=i.pop(),!x.logic.handler[c.type].next.includes(f))throw new Error(f+" not expected after a "+c.type);c.output=c.output||[],c.output=c.output.concat(s),s=[],h={type:x.token.type.logic,token:c},(0<i.length?s:o).push(h)}void 0!==d&&0<d.length?(x.log.trace("Twig.compile: ","Pushing ",a," to logic stack."),0<i.length&&((c=i.pop()).output=c.output||[],c.output=c.output.concat(s),i.push(c),s=[]),i.push(a)):void 0!==y&&y&&(h={type:x.token.type.logic,token:a},(0<i.length?s:o).push(h))};0<e.length;){switch(r=e.shift(),p=o[o.length-1],l=s[s.length-1],u=e[0],x.log.trace("Compiling token ",r),r.type){case x.token.type.raw:(0<i.length?s:o).push(r);break;case x.token.type.logic:g.call(t,r);break;case x.token.type.comment:break;case x.token.type.output:m.call(t,r);break;case x.token.type.logicWhitespacePre:case x.token.type.logicWhitespacePost:case x.token.type.logicWhitespaceBoth:case x.token.type.outputWhitespacePre:case x.token.type.outputWhitespacePost:case x.token.type.outputWhitespaceBoth:switch(r.type!==x.token.type.outputWhitespacePost&&r.type!==x.token.type.logicWhitespacePost&&(p&&p.type===x.token.type.raw&&(o.pop(),p.value=p.value.trimEnd(),o.push(p)),l)&&l.type===x.token.type.raw&&(s.pop(),l.value=l.value.trimEnd(),s.push(l)),r.type){case x.token.type.outputWhitespacePre:case x.token.type.outputWhitespacePost:case x.token.type.outputWhitespaceBoth:m.call(t,r);break;case x.token.type.logicWhitespacePre:case x.token.type.logicWhitespacePost:case x.token.type.logicWhitespaceBoth:g.call(t,r)}r.type!==x.token.type.outputWhitespacePre&&r.type!==x.token.type.logicWhitespacePre&&u&&u.type===x.token.type.raw&&(e.shift(),u.value=u.value.trimStart(),e.unshift(u))}x.log.trace("Twig.compile: "," Output: ",o," Logic Stack: ",i," Pending Output: ",s)}if(0<i.length)throw n=i.pop(),new Error("Unable to find an end tag for "+n.type+", expecting one of "+n.next);return o}catch(e){if(t.options.rethrow)throw"TwigException"!==e.type||e.file||(e.file=t.id),e;x.log.error("Error compiling twig template "+t.id+": "),e.stack?x.log.error(e.stack):x.log.error(e.toString())}},x.prepare=function(e){x.log.debug("Twig.prepare: ","Tokenizing ",e);e=x.tokenize.call(this,e),x.log.debug("Twig.prepare: ","Compiling ",e),e=x.compile.call(this,e);return x.log.debug("Twig.prepare: ","Compiled ",e),e},x.output=function(e){var t,r=this.options.autoescape;return r?(t="string"==typeof r?r:"html",0===(r=e.map(function(e){return e=!e||!0===e.twigMarkup||e.twigMarkup===t||"html"===t&&"html_attr"===e.twigMarkup?e:x.filters.escape(e,[t])})).length||0===(r=r.join("")).length?"":new x.Markup(r,!0)):e.join("")},x.Templates={loaders:{},parsers:{},registry:{}},x.validateId=function(e){if("prototype"===e)throw new x.Error(e+" is not a valid twig identifier");if(x.cache&&Object.hasOwnProperty.call(x.Templates.registry,e))throw new x.Error("There is already a template with the ID "+e);return!0},x.Templates.registerLoader=function(e,t,r){if("function"!=typeof t)throw new x.Error("Unable to add loader for "+e+": Invalid function reference given.");r&&(t=t.bind(r)),this.loaders[e]=t},x.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},x.Templates.isRegisteredLoader=function(e){return Object.hasOwnProperty.call(this.loaders,e)},x.Templates.registerParser=function(e,t,r){if("function"!=typeof t)throw new x.Error("Unable to add parser for "+e+": Invalid function regerence given.");r&&(t=t.bind(r)),this.parsers[e]=t},x.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},x.Templates.isRegisteredParser=function(e){return Object.hasOwnProperty.call(this.parsers,e)},x.Templates.save=function(e){if(void 0===e.id)throw new x.Error("Unable to save template with no id");x.Templates.registry[e.id]=e},x.Templates.load=function(e){return Object.hasOwnProperty.call(x.Templates.registry,e)?x.Templates.registry[e]:null},x.Templates.loadRemote=function(e,t,r,n){var o=void 0===t.id?e:t.id,i=x.Templates.registry[o];return x.cache&&void 0!==i?("function"==typeof r&&r(i),i):(t.parser=t.parser||"twig",t.id=o,void 0===t.async&&(t.async=!0),(this.loaders[t.method]||this.loaders.fs).call(this,e,t,r,n))},x.Block=function(e,t){this.template=e,this.token=t},x.Block.prototype.render=function(t,r){var n=t.template;return t.template=this.template,(this.token.expression?x.expression.parseAsync.call(t,this.token.output,r):t.parseAsync(this.token.output,r)).then(function(e){return x.expression.parseAsync.call(t,{type:x.expression.type.string,value:e},r)}).then(function(e){return t.template=n,e})},x.ParseState=function(e,t){this.renderedBlocks={},this.overrideBlocks=void 0===t?{}:t,this.context={},this.macros={},this.nestingStack=[],this.template=e},x.ParseState.prototype.getBlock=function(e,t){var r;return r=void 0===(r=void 0===(r=!0!==t?this.overrideBlocks[e]:r)?this.template.getBlock(e,t):r)&&null!==this.template.parentTemplate?this.template.parentTemplate.getBlock(e):r},x.ParseState.prototype.getBlocks=function(e){var t={};return i(i(i({},t=!1!==e&&null!==this.template.parentTemplate&&this.template.parentTemplate!==this.template?this.template.parentTemplate.getBlocks():t),this.template.getBlocks()),this.overrideBlocks)},x.ParseState.prototype.getNestingStackToken=function(t){var r;return this.nestingStack.forEach(function(e){void 0===r&&e.type===t&&(r=e)}),r},x.ParseState.prototype.parse=function(e,t,r){var n=this,o=[],i=null,s=!0,a=!0;function c(e){o.push(e)}function p(e){void 0!==e.chain&&(a=e.chain),void 0!==e.context&&(n.context=e.context),void 0!==e.output&&o.push(e.output)}if(t&&(n.context=t),t=x.async.forEach(e,function(e){switch(x.log.debug("Twig.ParseState.parse: ","Parsing token: ",e),e.type){case x.token.type.raw:o.push(x.filters.raw(e.value));break;case x.token.type.logic:return x.logic.parseAsync.call(n,e.token,n.context,a).then(p);case x.token.type.comment:break;case x.token.type.outputWhitespacePre:case x.token.type.outputWhitespacePost:case x.token.type.outputWhitespaceBoth:case x.token.type.output:return x.log.debug("Twig.ParseState.parse: ","Output token: ",e.stack),x.expression.parseAsync.call(n,e.stack,n.context).then(c)}}).then(function(){return o=x.output.call(n.template,o),s=!1,o}).catch(function(e){r&&l(n,e),i=e}),r)return t;if(null!==i)return l(n,i);if(s)throw new x.Error("You are using Twig.js in sync mode in combination with async extensions.");return o},x.Template=function(e){var t=e.data,r=e.id,n=e.base,o=e.path,i=e.url,s=e.name,a=e.method,e=e.options;this.base=n,this.blocks={defined:{},imported:{}},this.id=r,this.method=a,this.name=s,this.options=e,this.parentTemplate=null,this.path=o,this.url=i,n=t,a=Object.prototype.toString.call(n).slice(8,-1),this.tokens=null!=n&&"String"===a?x.prepare.call(this,t):t,void 0!==r&&x.Templates.save(this)},x.Template.prototype.getBlock=function(e,t){var r;return!0!==t&&(r=this.blocks.defined[e]),r=void 0===(r=(!(2<arguments.length&&void 0!==arguments[2])||arguments[2])&&void 0===r?this.blocks.imported[e]:r)&&null!==this.parentTemplate?this.parentTemplate.getBlock(e,t,!1):r},x.Template.prototype.getBlocks=function(){return i(i(i({},{}),this.blocks.imported),this.blocks.defined)},x.Template.prototype.render=function(e,o,t){var i=this;return o=o||{},x.async.potentiallyAsync(i,t,function(){var n=new x.ParseState(i,o.blocks);return n.parseAsync(i.tokens,e).then(function(e){var t,r;return null!==i.parentTemplate?(i.options.allowInlineIncludes&&(t=x.Templates.load(i.parentTemplate))&&(t.options=i.options),t||(r=x.path.parsePath(i,i.parentTemplate),t=x.Templates.loadRemote(r,{method:i.getLoaderMethod(),base:i.base,async:!1,id:r,options:i.options})),i.parentTemplate=t,i.parentTemplate.renderAsync(n.context,{blocks:n.getBlocks(!1),isInclude:!0})):!0===o.isInclude?e:e.valueOf()})})},x.Template.prototype.importFile=function(e){var t;if(this.url||!this.options.allowInlineIncludes)return t=x.path.parsePath(this,e),x.Templates.loadRemote(t,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:t});if(e=this.path?x.path.parsePath(this,e):e,t=(t=x.Templates.load(e))||x.Templates.loadRemote(null,{id:e,method:this.getLoaderMethod(),async:!1,path:e,options:this.options}))return t.options=this.options,t;throw new x.Error("Unable to find the template "+e)},x.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},x.Template.prototype.compile=function(e){return x.compiler.compile(this,e)},x.Markup=function(e,t){return"string"!=typeof e||((e=new String(e)).twigMarkup=void 0===t||t),e},x}},function(e,t,r){"use strict";e.exports=function(o){return o.compiler={module:{}},o.compiler.compile=function(e,t){var r=JSON.stringify(e.tokens),e=e.id,n=null;if(t.module){if(void 0===o.compiler.module[t.module])throw new o.Error("Unable to find module type "+t.module);n=o.compiler.module[t.module](e,r,t.twig)}else n=o.compiler.wrap(e,r);return n},o.compiler.module={amd:function(e,t,r){return'define(["'+r+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+o.compiler.wrap(e,t)+"\n\treturn templates;\n});"},node:function(e,t){return'var twig = require("twig").twig;\nexports.template = '+o.compiler.wrap(e,t)},cjs2:function(e,t,r){return'module.declare([{ twig: "'+r+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+o.compiler.wrap(e,t)+"\n});"}},o.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},o}},function(e,t,r){"use strict";var n=r(0),l=n(r(1)),s=n(r(12));e.exports=function(f){function p(e,t,r){return t?f.expression.parseAsync.call(e,t,r):f.Promise.resolve(!1)}for(f.expression={},r(17)(f),f.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],f.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},f.expression.set={operations:[f.expression.type.filter,f.expression.type.operator.unary,f.expression.type.operator.binary,f.expression.type.array.end,f.expression.type.object.end,f.expression.type.parameter.end,f.expression.type.subexpression.end,f.expression.type.comma,f.expression.type.test],expressions:[f.expression.type._function,f.expression.type.bool,f.expression.type.string,f.expression.type.variable,f.expression.type.number,f.expression.type._null,f.expression.type.context,f.expression.type.parameter.start,f.expression.type.array.start,f.expression.type.object.start,f.expression.type.subexpression.start,f.expression.type.operator.unary]},f.expression.set.operationsExtended=f.expression.set.operations.concat([f.expression.type.key.period,f.expression.type.key.brackets,f.expression.type.slice]),f.expression.fn={compile:{push:function(e,t,r){r.push(e)},pushBoth:function(e,t,r){r.push(e),t.push(e)}},parse:{push:function(e,t){t.push(e)},pushValue:function(e,t){t.push(e.value)}}},f.expression.definitions=[{type:f.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_]\w*(\s?as)?)/,next:f.expression.set.operations.concat([f.expression.type.parameter.start]),compile:function(e,t,r){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(t,r,e){var n=r.pop();return p(this,t.params,e).then(function(e){e=f.test(t.filter,n,e);"not"===t.modifier?r.push(!e):r.push(e)})}},{type:f.expression.type.comma,regex:/^,/,next:f.expression.set.expressions.concat([f.expression.type.array.end,f.expression.type.object.end]),compile:function(e,t,r){var n,o=t.length-1;for(delete e.match,delete e.value;0<=o;o--){if((n=t.pop()).type===f.expression.type.object.start||n.type===f.expression.type.parameter.start||n.type===f.expression.type.array.start){t.push(n);break}r.push(n)}r.push(e)}},{type:f.expression.type.number,regex:/^-?\d+(\.\d+)?/,next:f.expression.set.operations,compile:function(e,t,r){e.value=Number(e.value),r.push(e)},parse:f.expression.fn.parse.pushValue},{type:f.expression.type.operator.binary,regex:/(^\?\?|^\?:|^(b-and)|^(b-or)|^(b-xor)|^[+\-~%?]|^[:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[(|\s+]|^(or)[(|\s+]|^(in)[(|\s+]|^(not in)[(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:f.expression.set.expressions,transform:function(e,t){switch(e[0]){case"and(":case"or(":case"in(":case"not in(":return t[t.length-1].value=e[2],e[0];default:return""}},compile:function(e,t,r){delete e.match,e.value=e.value.trim();var n=e.value,o=f.expression.operator.lookup(n,e);for(f.log.trace("Twig.expression.compile: ","Operator: ",o," from ",n);0<t.length&&(t[t.length-1].type===f.expression.type.operator.unary||t[t.length-1].type===f.expression.type.operator.binary)&&(o.associativity===f.expression.operator.leftToRight&&o.precidence>=t[t.length-1].precidence||o.associativity===f.expression.operator.rightToLeft&&o.precidence>t[t.length-1].precidence);){var i=t.pop();r.push(i)}if(":"===n){if(!t[t.length-1]||"?"!==t[t.length-1].value){n=r.pop();if(n.type===f.expression.type.string||n.type===f.expression.type.variable)e.key=n.value;else if(n.type===f.expression.type.number)e.key=n.value.toString();else{if(!n.expression||n.type!==f.expression.type.parameter.end&&n.type!==f.expression.type.subexpression.end)throw new f.Error("Unexpected value before ':' of "+n.type+" = "+n.value);e.params=n.params}r.push(e)}}else t.push(o)},parse:function(t,r,n){if(t.key)r.push(t);else{if(t.params)return f.expression.parseAsync.call(this,t.params,n).then(function(e){t.key=e,r.push(t),n.loop||delete t.params});f.expression.operator.parse(t.value,r)}}},{type:f.expression.type.operator.unary,regex:/(^not\s+)/,next:f.expression.set.expressions,compile:function(e,t,r){delete e.match,e.value=e.value.trim();var n=e.value,o=f.expression.operator.lookup(n,e);for(f.log.trace("Twig.expression.compile: ","Operator: ",o," from ",n);0<t.length&&(t[t.length-1].type===f.expression.type.operator.unary||t[t.length-1].type===f.expression.type.operator.binary)&&(o.associativity===f.expression.operator.leftToRight&&o.precidence>=t[t.length-1].precidence||o.associativity===f.expression.operator.rightToLeft&&o.precidence>t[t.length-1].precidence);){var i=t.pop();r.push(i)}t.push(o)},parse:function(e,t){f.expression.operator.parse(e.value,t)}},{type:f.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:f.expression.set.operationsExtended,compile:function(e,t,r){var n=e.value;delete e.match,n='"'===n.slice(0,1)?n.replace('\\"','"'):n.replace("\\'","'"),e.value=n.slice(1,-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),f.log.trace("Twig.expression.compile: ","String value: ",e.value),r.push(e)},parse:f.expression.fn.parse.pushValue},{type:f.expression.type.subexpression.start,regex:/^\(/,next:f.expression.set.expressions.concat([f.expression.type.subexpression.end]),compile:function(e,t,r){e.value="(",r.push(e),t.push(e)},parse:f.expression.fn.parse.push},{type:f.expression.type.subexpression.end,regex:/^\)/,next:f.expression.set.operationsExtended,validate:function(e,t){for(var r=t.length-1,n=!1,o=!1,i=0;!n&&0<=r;){var s=t[r];(n=s.type===f.expression.type.subexpression.start)&&o&&(n=o=!1),s.type===f.expression.type.parameter.start?i++:s.type===f.expression.type.parameter.end?i--:s.type===f.expression.type.subexpression.end&&(o=!0),r--}return n&&0===i},compile:function(e,t,r){for(var n=e,o=t.pop();0<t.length&&o.type!==f.expression.type.subexpression.start;)r.push(o),o=t.pop();for(var i=[];e.type!==f.expression.type.subexpression.start;)i.unshift(e),e=r.pop();i.unshift(e),void 0===(o=t[t.length-1])||o.type!==f.expression.type._function&&o.type!==f.expression.type.filter&&o.type!==f.expression.type.test&&o.type!==f.expression.type.key.brackets?(n.expression=!0,i.pop(),i.shift(),n.params=i,r.push(n)):(n.expression=!1,o.params=i)},parse:function(e,t,r){if(e.expression)return f.expression.parseAsync.call(this,e.params,r).then(function(e){t.push(e)});throw new f.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:f.expression.type.parameter.start,regex:/^\(/,next:f.expression.set.expressions.concat([f.expression.type.parameter.end]),validate:function(e,t){t=t[t.length-1];return t&&!f.expression.reservedWords.includes(t.value.trim())},compile:f.expression.fn.compile.pushBoth,parse:f.expression.fn.parse.push},{type:f.expression.type.parameter.end,regex:/^\)/,next:f.expression.set.operationsExtended,compile:function(e,t,r){for(var n=e,o=t.pop();0<t.length&&o.type!==f.expression.type.parameter.start;)r.push(o),o=t.pop();for(var i=[];e.type!==f.expression.type.parameter.start;)i.unshift(e),e=r.pop();i.unshift(e),void 0===(e=r[r.length-1])||e.type!==f.expression.type._function&&e.type!==f.expression.type.filter&&e.type!==f.expression.type.test&&e.type!==f.expression.type.key.brackets?(n.expression=!0,i.pop(),i.shift(),n.params=i,r.push(n)):(n.expression=!1,e.params=i)},parse:function(e,t,r){var n,o=[],i=!1;if(e.expression)return f.expression.parseAsync.call(this,e.params,r).then(function(e){t.push(e)});for(;0<t.length;){if((n=t.pop())&&n.type&&n.type===f.expression.type.parameter.start){i=!0;break}o.unshift(n)}if(!i)throw new f.Error("Expected end of parameter set.");t.push(o)}},{type:f.expression.type.slice,regex:/^\[(\d*:\d*)\]/,next:f.expression.set.operationsExtended,compile:function(e,t,r){var n=e.match[1].split(":"),o=n[0]?parseInt(n[0],10):void 0,n=n[1]?parseInt(n[1],10):void 0;e.value="slice",e.params=[o,n],n||(e.params=[o]),r.push(e)},parse:function(e,t){var r=t.pop(),n=e.params;t.push(f.filter.call(this,e.value,r,n))}},{type:f.expression.type.array.start,regex:/^\[/,next:f.expression.set.expressions.concat([f.expression.type.array.end]),compile:f.expression.fn.compile.pushBoth,parse:f.expression.fn.parse.push},{type:f.expression.type.array.end,regex:/^\]/,next:f.expression.set.operationsExtended,compile:function(e,t,r){for(var n,o=t.length-1;0<=o&&(n=t.pop()).type!==f.expression.type.array.start;o--)r.push(n);r.push(e)},parse:function(e,t){for(var r,n=[],o=!1;0<t.length;){if((r=t.pop())&&r.type&&r.type===f.expression.type.array.start){o=!0;break}n.unshift(r)}if(!o)throw new f.Error("Expected end of array.");t.push(n)}},{type:f.expression.type.object.start,regex:/^\{/,next:f.expression.set.expressions.concat([f.expression.type.object.end]),compile:f.expression.fn.compile.pushBoth,parse:f.expression.fn.parse.push},{type:f.expression.type.object.end,regex:/^\}/,next:f.expression.set.operationsExtended,compile:function(e,t,r){for(var n,o=t.length-1;0<=o&&(!(n=t.pop())||n.type!==f.expression.type.object.start);o--)r.push(n);r.push(e)},parse:function(e,t){for(var r,n={},o=!1,i=!1,s=null;0<t.length;){if((r=t.pop())&&r.type&&r.type===f.expression.type.object.start){o=!0;break}if(r&&r.type&&(r.type===f.expression.type.operator.binary||r.type===f.expression.type.operator.unary)&&r.key){if(!i)throw new f.Error("Missing value for key '"+r.key+"' in object definition.");n[r.key]=s,void 0===n._keys&&(n._keys=[]),n._keys.unshift(r.key),s=null,i=!1}else i=!0,s=r}if(!o)throw new f.Error("Unexpected end of object.");t.push(n)}},{type:f.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_-]*)/,next:f.expression.set.operationsExtended.concat([f.expression.type.parameter.start]),compile:function(e,t,r){e.value=e.match[1],r.push(e)},parse:function(t,r,e){var n=r.pop(),o=this;return p(o,t.params,e).then(function(e){return f.filter.call(o,t.value,n,e)}).then(function(e){r.push(e)})}},{type:f.expression.type._function,regex:/^([a-zA-Z_]\w*)\s*\(/,next:f.expression.type.parameter.start,validate:function(e){return e[1]&&!f.expression.reservedWords.includes(e[1])},transform:function(){return"("},compile:function(e,t,r){var n=e.match[1];e.fn=n,delete e.match,delete e.value,r.push(e)},parse:function(e,t,r){var n,o=this,i=e.fn;return p(o,e.params,r).then(function(e){if(f.functions[i])n=f.functions[i].apply(o,e);else{if("function"!=typeof r[i])throw new f.Error(i+" function does not exist and is not defined in the context");n=r[i].apply(r,(0,s.default)(e))}return n}).then(function(e){t.push(e)})}},{type:f.expression.type.variable,regex:/^[a-zA-Z_]\w*/,next:f.expression.set.operationsExtended.concat([f.expression.type.parameter.start]),compile:f.expression.fn.compile.push,validate:function(e){return!f.expression.reservedWords.includes(e[0])},parse:function(t,r,e){var n=this;return f.expression.resolveAsync.call(n,e[t.value],e).then(function(e){if(n.template.options.strictVariables&&void 0===e)throw new f.Error('Variable "'+t.value+'" does not exist.');r.push(e)})}},{type:f.expression.type.key.period,regex:/^\.(\w+)/,next:f.expression.set.operationsExtended.concat([f.expression.type.parameter.start]),compile:function(e,t,r){e.key=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(e,t,r,n){var o,i=this,s=e.key,a=t.pop();if(a&&!Object.prototype.hasOwnProperty.call(a,s)&&i.template.options.strictVariables)throw 0<Object.keys(a).length?new f.Error('Key "'+s+'" for object with keys "'+Object.keys(a).join(", ")+'" does not exist.'):new f.Error('Key "'+s+'" does not exist as the object is empty.');return p(i,e.params,r).then(function(e){var t;return o=null==a?void 0:(t=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},"object"===(0,l.default)(a)&&s in a?a[s]:a["get"+t(s)]?a["get"+t(s)]:a["is"+t(s)]?a["is"+t(s)]:void 0),f.expression.resolveAsync.call(i,o,r,e,n,a)}).then(function(e){t.push(e)})}},{type:f.expression.type.key.brackets,regex:/^\[([^\]:]*)\]/,next:f.expression.set.operationsExtended.concat([f.expression.type.parameter.start]),compile:function(e,t,r){var n=e.match[1];delete e.value,delete e.match,e.stack=f.expression.compile({value:n}).stack,r.push(e)},parse:function(t,r,n,o){var i,s,a=this,c=null;return p(a,t.params,n).then(function(e){return c=e,f.expression.parseAsync.call(a,t.stack,n)}).then(function(e){var t;if((i=r.pop())&&!Object.prototype.hasOwnProperty.call(i,e)&&a.template.options.strictVariables)throw 0<(t=Object.keys(i)).length?new f.Error('Key "'+e+'" for array with keys "'+t.join(", ")+'" does not exist.'):new f.Error('Key "'+e+'" does not exist as the array is empty.');return null==i?null:(s="object"===(0,l.default)(i)&&e in i?i[e]:null,f.expression.resolveAsync.call(a,s,i,c,o))}).then(function(e){r.push(e)})}},{type:f.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:f.expression.set.operations,compile:function(e,t,r){delete e.match,e.value=null,r.push(e)},parse:f.expression.fn.parse.pushValue},{type:f.expression.type.context,regex:/^_context/,next:f.expression.set.operationsExtended.concat([f.expression.type.parameter.start]),compile:f.expression.fn.compile.push,parse:function(e,t,r){t.push(r)}},{type:f.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:f.expression.set.operations,compile:function(e,t,r){e.value="true"===e.match[0].toLowerCase(),delete e.match,r.push(e)},parse:f.expression.fn.parse.pushValue}],f.expression.resolveAsync=function(t,r,e,n,o){var i=this;return"function"!=typeof t?f.Promise.resolve(t):(e=f.Promise.resolve(e),(e=n&&n.type===f.expression.type.parameter.end?e.then(function(){return n.params&&f.expression.parseAsync.call(i,n.params,r,!0)}).then(function(e){return n.cleanup=!0,e}):e).then(function(e){return t.apply(o||r,e||[])}))},f.expression.resolve=function(e,t,r,n,o){return f.async.potentiallyAsync(this,!1,function(){return f.expression.resolveAsync.call(this,e,t,r,n,o)})},f.expression.handler={},f.expression.extendType=function(e){f.expression.type[e]="Twig.expression.type."+e},f.expression.extend=function(e){if(!e.type)throw new f.Error("Unable to extend logic definition. No type provided for "+e);f.expression.handler[e.type]=e};0<f.expression.definitions.length;)f.expression.extend(f.expression.definitions.shift());return f.expression.tokenize=function(e){function t(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n,o=arguments.length-2,i=new Array(o);0<o--;)i[o]=t[o];return f.log.trace("Twig.expression.tokenize","Matched a ",s," regular expression of ",i),u&&!u.includes(s)?(h.push(s+" cannot follow a "+p[p.length-1].type+" at template:"+l+" near '"+i[0].slice(0,20)+"...'"),i[0]):(n=f.expression.handler[s]).validate&&!n.validate(i,p)?i[0]:(h=[],p.push({type:s,value:i[0],match:i}),c=!0,u=a,l+=i[0].length,n.transform?n.transform(i,p):"")}var s,r,n,a,c,p=[],l=0,u=null,h=[];for(f.log.debug("Twig.expression.tokenize","Tokenizing expression ",e);0<e.length;){for(s in e=e.trim(),f.expression.handler)if(Object.hasOwnProperty.call(f.expression.handler,s)){if(a=f.expression.handler[s].next,r=f.expression.handler[s].regex,f.log.trace("Checking type ",s," on ",e),c=!1,Array.isArray(r))for(n=r.length;0<n--;)e=e.replace(r[n],t);else e=e.replace(r,t);if(c)break}if(!c)throw 0<h.length?new f.Error(h.join(" OR ")):new f.Error("Unable to parse '"+e+"' at template position"+l)}return f.log.trace("Twig.expression.tokenize","Tokenized to ",p),p},f.expression.compile=function(e){var t,r=e.value,n=f.expression.tokenize(r),o=[],i=[],s=null;for(f.log.trace("Twig.expression.compile: ","Compiling ",r);0<n.length;)t=n.shift(),s=f.expression.handler[t.type],f.log.trace("Twig.expression.compile: ","Compiling ",t),s.compile(t,i,o),f.log.trace("Twig.expression.compile: ","Stack is",i),f.log.trace("Twig.expression.compile: ","Output is",o);for(;0<i.length;)o.push(i.pop());return f.log.trace("Twig.expression.compile: ","Final output is",o),e.stack=o,delete e.value,e},f.expression.parse=function(i,s,n,e){var a=this,c=(Array.isArray(i)||(i=[i]),[]),p=[],l=f.expression.type.operator.binary;return f.async.potentiallyAsync(a,e,function(){return f.async.forEach(i,function(e,t){var r,n=null,o=null;if(!e.cleanup)return i.length>t+1&&(o=i[t+1]),(n=f.expression.handler[e.type]).parse&&(r=n.parse.call(a,e,c,s,o)),e.type===l&&s.loop&&p.push(e),r}).then(function(){for(var e,t=p.length,r=null;0<t--;)(r=p[t]).params&&r.key&&delete r.key;return n&&(e=c.splice(0),c.push(e)),c.pop()})})},f}},function(e,t,r){var n=r(13),o=r(14),i=r(15),s=r(16);e.exports=function(e){return n(e)||o(e)||i(e)||s()}},function(e,t,r){var n=r(3);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,r){var n=r(3);e.exports=function(e,t){var r;if(e)return"string"==typeof e?n(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";e.exports=function(a){a.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};function c(e,t){if(null==t)return null;if(void 0!==t.indexOf)return(e===t||""!==e)&&t.includes(e);for(var r in t)if(Object.hasOwnProperty.call(t,r)&&t[r]===e)return!0;return!1}return a.expression.operator.lookup=function(e,t){switch(e){case"..":t.precidence=20,t.associativity=a.expression.operator.leftToRight;break;case",":t.precidence=18,t.associativity=a.expression.operator.leftToRight;break;case"?:":case"?":case":":t.precidence=16,t.associativity=a.expression.operator.rightToLeft;break;case"??":t.precidence=15,t.associativity=a.expression.operator.rightToLeft;break;case"or":t.precidence=14,t.associativity=a.expression.operator.leftToRight;break;case"and":t.precidence=13,t.associativity=a.expression.operator.leftToRight;break;case"b-or":t.precidence=12,t.associativity=a.expression.operator.leftToRight;break;case"b-xor":t.precidence=11,t.associativity=a.expression.operator.leftToRight;break;case"b-and":t.precidence=10,t.associativity=a.expression.operator.leftToRight;break;case"==":case"!=":t.precidence=9,t.associativity=a.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":t.precidence=8,t.associativity=a.expression.operator.leftToRight;break;case"~":case"+":case"-":t.precidence=6,t.associativity=a.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":t.precidence=5,t.associativity=a.expression.operator.leftToRight;break;case"not":t.precidence=3,t.associativity=a.expression.operator.rightToLeft;break;case"matches":case"starts with":case"ends with":t.precidence=8,t.associativity=a.expression.operator.leftToRight;break;default:throw new a.Error("Failed to lookup operator: "+e+" is an unknown operator.")}return t.operator=e,t},a.expression.operator.parse=function(e,t){var r,n,o,i,s;switch(a.log.trace("Twig.expression.operator.parse: ","Handling ",e),"?"===e&&(n=t.pop()),s=t.pop(),"not"!==e&&(r=t.pop()),"in"!==e&&"not in"!==e&&"??"!==e&&(r&&Array.isArray(r)&&(r=r.length),"?"!==e)&&s&&Array.isArray(s)&&(s=s.length),"matches"===e&&s&&"string"==typeof s&&(o=(i=s.match(/^\/(.*)\/([gims]?)$/))[1],i=i[2],s=new RegExp(o,i)),e){case":":break;case"??":void 0===r&&(r=s,s=n,n=void 0),null!=r?t.push(r):t.push(s);break;case"?:":a.lib.boolval(r)?t.push(r):t.push(s);break;case"?":void 0===r&&(r=s,s=n,n=void 0),a.lib.boolval(r)?t.push(s):t.push(n);break;case"+":s=parseFloat(s),r=parseFloat(r),t.push(r+s);break;case"-":s=parseFloat(s),r=parseFloat(r),t.push(r-s);break;case"*":s=parseFloat(s),r=parseFloat(r),t.push(r*s);break;case"/":s=parseFloat(s),r=parseFloat(r),t.push(r/s);break;case"//":s=parseFloat(s),r=parseFloat(r),t.push(Math.floor(r/s));break;case"%":s=parseFloat(s),r=parseFloat(r),t.push(r%s);break;case"~":t.push((null!=r?r.toString():"")+(null!=s?s.toString():""));break;case"not":case"!":t.push(!a.lib.boolval(s));break;case"<":t.push(r<s);break;case"<=":t.push(r<=s);break;case">":t.push(s<r);break;case">=":t.push(s<=r);break;case"===":t.push(r===s);break;case"==":t.push(r==s);break;case"!==":t.push(r!==s);break;case"!=":t.push(r!=s);break;case"or":t.push(a.lib.boolval(r)||a.lib.boolval(s));break;case"b-or":t.push(r|s);break;case"b-xor":t.push(r^s);break;case"and":t.push(a.lib.boolval(r)&&a.lib.boolval(s));break;case"b-and":t.push(r&s);break;case"**":t.push(Math.pow(r,s));break;case"not in":t.push(!c(r,s));break;case"in":t.push(c(r,s));break;case"matches":t.push(s.test(r));break;case"starts with":t.push("string"==typeof r&&0===r.indexOf(s));break;case"ends with":t.push("string"==typeof r&&r.includes(s,r.length-s.length));break;case"..":t.push(a.functions.range(r,s));break;default:throw new a.Error("Failed to parse operator: "+e+" is an unknown operator.")}},a}},function(e,t,r){"use strict";var o=r(0)(r(1));e.exports=function(d){function i(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&r===e}return d.filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.slice(0,1).toUpperCase()+e.toLowerCase().slice(1)},title:function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,function(e,t,r){return t+r.toUpperCase()})},length:function(e){return d.lib.is("Array",e)||"string"==typeof e?e.length:d.lib.is("Object",e)?(void 0===e._keys?Object.keys(e):e._keys).length:0},reverse:function(e){var t;return i("Array",e)?e.reverse():i("String",e)?e.split("").reverse().join(""):i("Object",e)?(t=e._keys||Object.keys(e).reverse(),e._keys=t,e):void 0},sort:function(o){var e;return i("Array",o)?o.sort():i("Object",o)?(delete o._keys,e=Object.keys(o).sort(function(e,t){var r,n;return o[e]>o[t]==!(o[e]<=o[t])?o[e]>o[t]?1:o[e]<o[t]?-1:0:isNaN(r=parseFloat(o[e]))||isNaN(n=parseFloat(o[t]))?"string"==typeof o[e]?o[e]>o[t].toString()?1:o[e]<o[t].toString()?-1:0:"string"==typeof o[t]?o[e].toString()>o[t]?1:o[e].toString()<o[t]?-1:0:null:n<r?1:r<n?-1:0}),o._keys=e,o):void 0},keys:function(t){var e,r;if(null!=t)return e=t._keys||Object.keys(t),r=[],e.forEach(function(e){"_keys"!==e&&Object.hasOwnProperty.call(t,e)&&r.push(e)}),r},url_encode:function(e){if(null!=e)return d.lib.is("Object",e)?function r(n,o){var i=[];return(n._keys||Object.keys(n)).forEach(function(e){var t;Object.prototype.hasOwnProperty.call(n,e)&&(t=o?o+"["+e+"]":e,e=n[e],i.push(d.lib.is("Object",e)||Array.isArray(e)?r(e,t):encodeURIComponent(t)+"="+encodeURIComponent(e)))}),i.join("&amp;")}(e):encodeURIComponent(e).replace("'","%27")},join:function(t,e){var r,n;if(null!=t)return r="",n=[],e&&e[0]&&(r=e[0]),i("Array",t)?n=t:(t._keys||Object.keys(t)).forEach(function(e){"_keys"!==e&&Object.hasOwnProperty.call(t,e)&&n.push(t[e])}),n.join(r)},default:function(e,t){if(void 0!==t&&1<t.length)throw new d.Error("default filter expects one argument");return null==e||""===e?void 0===t?"":t[0]:e},json_encode:function(t){var r,e,n;return null==t?"null":"object"===(0,o.default)(t)&&i("Array",t)?(r=[],t.forEach(function(e){r.push(d.filters.json_encode(e))}),"["+r.join(",")+"]"):"object"===(0,o.default)(t)&&i("Date",t)?'"'+t.toISOString()+'"':"object"===(0,o.default)(t)?(e=t._keys||Object.keys(t),n=[],e.forEach(function(e){n.push(JSON.stringify(e)+":"+d.filters.json_encode(t[e]))}),"{"+n.join(",")+"}"):JSON.stringify(t)},merge:function(t,e){var r=[],n=0;if(i("Array",t)?e.forEach(function(e){i("Array",e)||(r={})}):r={},i("Array",r)||(r._keys=[]),i("Array",t)?t.forEach(function(e){r._keys&&r._keys.push(n),r[n]=e,n++}):(t._keys||Object.keys(t)).forEach(function(e){r[e]=t[e],r._keys.push(e);e=parseInt(e,10);!isNaN(e)&&n<=e&&(n=e+1)}),e.forEach(function(t){i("Array",t)?t.forEach(function(e){r._keys&&r._keys.push(n),r[n]=e,n++}):(t._keys||Object.keys(t)).forEach(function(e){r[e]||r._keys.push(e),r[e]=t[e];e=parseInt(e,10);!isNaN(e)&&n<=e&&(n=e+1)})}),0===e.length)throw new d.Error("Filter merge expects at least one parameter");return r},date:function(e,t){e=d.functions.date(e),t=t&&Boolean(t.length)?t[0]:"F j, Y H:i";return d.lib.date(t.replace(/\\\\/g,"\\"),e)},date_modify:function(e,t){if(null!=e){if(void 0===t||1!==t.length)throw new d.Error("date_modify filter expects 1 argument");var r,t=t[0];return d.lib.is("Date",e)&&(r=d.lib.strtotime(t,e.getTime()/1e3)),d.lib.is("String",e)&&(r=d.lib.strtotime(t,d.lib.strtotime(e))),d.lib.is("Number",e)&&(r=d.lib.strtotime(t,e)),new Date(1e3*r)}},replace:function(e,t){if(null!=e){var r,n=t[0];for(r in n)Object.hasOwnProperty.call(n,r)&&"_keys"!==r&&(e=d.lib.replaceAll(e,r,n[r]));return e}},format:function(e,t){if(null!=e)return d.lib.vsprintf(e,t)},striptags:function(e,t){if(null!=e)return d.lib.stripTags(e,t)},escape:function(e,t){if(null!=e&&""!==e){var r="html";if("html"===(r=t&&Boolean(t.length)&&!0!==t[0]?t[0]:r))return t=e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),new d.Markup(t,"html");if("js"===r){for(var n,o,i=e.toString(),s="",a=0;a<i.length;a++)i[a].match(/^[a-zA-Z0-9,._]$/)?s+=i[a]:(n=i.charAt(a),o=i.charCodeAt(a),s+={"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"}[n]||d.lib.sprintf("\\u%04s",o.toString(16).toUpperCase()));return new d.Markup(s,"js")}if("css"===r){for(var c=e.toString(),p="",l=0;l<c.length;l++)c[l].match(/^[a-zA-Z0-9]$/)?p+=c[l]:p+="\\"+c.charCodeAt(l).toString(16).toUpperCase()+" ";return new d.Markup(p,"css")}if("url"===r)return t=d.filters.url_encode(e),new d.Markup(t,"url");if("html_attr"!==r)throw new d.Error("escape strategy unsupported");for(var u,h=e.toString(),f="",y=0;y<h.length;y++)h[y].match(/^[a-zA-Z0-9,.\-_]$/)?f+=h[y]:h[y].match(/^[&<>"]$/)?f+=h[y].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):f+=(u=h.charCodeAt(y))<=31&&9!==u&&10!==u&&13!==u?"&#xFFFD;":u<128?d.lib.sprintf("&#x%02s;",u.toString(16).toUpperCase()):d.lib.sprintf("&#x%04s;",u.toString(16).toUpperCase());return new d.Markup(f,"html_attr")}},e:function(e,t){return d.filters.escape(e,t)},nl2br:function(e){var t;if(null!=e&&""!==e)return t="<br />BACKSLASH_n_replace",e=d.filters.escape(e).replace(/\r\n/g,t).replace(/\r/g,t).replace(/\n/g,t),e=d.lib.replaceAll(e,"BACKSLASH_n_replace","\n"),new d.Markup(e)},number_format:function(e,t){var r,n,o=t&&t[0]?t[0]:void 0,i=t&&void 0!==t[1]?t[1]:".",t=t&&void 0!==t[2]?t[2]:",",e=String(e).replace(/[^0-9+\-Ee.]/g,""),e=isFinite(Number(e))?Number(e):0,o=isFinite(Number(o))?Math.abs(o):0,s="";return 3<(s=(o?(r=e,n=Math.pow(10,o),String(Math.round(r*n)/n)):String(Math.round(e))).split("."))[0].length&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,t)),(s[1]||"").length<o&&(s[1]=s[1]||"",s[1]+=new Array(o-s[1].length+1).join("0")),s.join(i)},trim:function(e,t){if(null!=e){for(var r=String(e),n=t&&t[0]?String(t[0]):" \n\r\t\f\v            ​\u2028\u2029　",o=0;o<r.length;o++)if(!n.includes(r.charAt(o))){r=r.slice(Math.max(0,o));break}for(var i=r.length-1;0<=i;i--)if(!n.includes(r.charAt(i))){r=r.slice(0,Math.max(0,i+1));break}return n.includes(r.charAt(0))?"":r}},truncate:function(e,t){var r=30,n=!1,o="...";if(e=String(e),t&&(t[0]&&(r=t[0]),t[1]&&(n=t[1]),t[2])&&(o=t[2]),e.length>r){if(n&&-1===(r=e.indexOf(" ",r)))return e;e=e.slice(0,r)+o}return e},slice:function(e,t){if(null!=e){if(void 0===t||0===t.length)throw new d.Error("slice filter expects at least 1 argument");var r=t[0]||0,n=1<t.length?t[1]:e.length,o=0<=r?r:Math.max(e.length+r,0);if(d.lib.is("Array",e)){for(var i=[],s=o;s<o+n&&s<e.length;s++)i.push(e[s]);return i}if(d.lib.is("String",e))return e.slice(o,o+n);throw new d.Error("slice filter expects value to be an array or string")}},abs:function(e){if(null!=e)return Math.abs(e)},first:function(e){if(i("Array",e))return e[0];if(i("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.slice(0,1)},split:function(e,t){if(null!=e){if(void 0===t||0===t.length||2<t.length)throw new d.Error("split filter expects 1 or 2 argument");if(d.lib.is("String",e)){var r=t[0],n=t[1],o=e.split(r);if(void 0===n)return o;if(n<0)return e.split(r,o.length+n);var i=[];if(""===r)for(;0<o.length;){for(var s="",a=0;a<n&&0<o.length;a++)s+=o.shift();i.push(s)}else{for(var c=0;c<n-1&&0<o.length;c++)i.push(o.shift());0<o.length&&i.push(o.join(r))}return i}throw new d.Error("split filter expects value to be a string")}},last:function(e){var t;return d.lib.is("Object",e)?e[(t=void 0===e._keys?Object.keys(e):e._keys)[t.length-1]]:d.lib.is("Number",e)?e.toString().slice(-1):e[e.length-1]},raw:function(e){return new d.Markup(e||"")},batch:function(e,t){var r,n,o=t.shift(),i=t.shift();if(!d.lib.is("Array",e))throw new d.Error("batch filter expects items to be an array");if(!d.lib.is("Number",o))throw new d.Error("batch filter expects size to be a number");o=Math.ceil(o),t=d.lib.chunkArray(e,o);if(i&&e.length%o!=0){for(n=o-(r=t.pop()).length;n--;)r.push(i);t.push(r)}return t},round:function(e,t){var r=0<(t=t||[]).length?t[0]:0,t=1<t.length?t[1]:"common";if(e=parseFloat(e),r&&!d.lib.is("Number",r))throw new d.Error("round filter expects precision to be a number");if("common"===t)return d.lib.round(e,r);if(d.lib.is("Function",Math[t]))return Math[t](e*Math.pow(10,r))/Math.pow(10,r);throw new d.Error("round filter expects method to be 'floor', 'ceil', or 'common'")},spaceless:function(e){return e.replace(/>\s+</g,"><").trim()}},d.filter=function(e,t,r){if(d.filters[e])return d.filters[e].call(this,t,r);throw new d.Error("Unable to find filter "+e)},d.filter.extend=function(e,t){d.filters[e]=t},d}},function(s,e,t){"use strict";var u=t(0)(t(1));s.exports=function(i){return i.functions={range:function(e,t,r){var n,o=[],i=r||1,s=!1,a=isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(s=!0,n=e.charCodeAt(0),t.charCodeAt(0)):(n=isNaN(e)?0:e,isNaN(t)?0:t):(n=parseInt(e,10),parseInt(t,10));if(a<n)for(;a<=n;)o.push(s?String.fromCharCode(n):n),n-=i;else for(;n<=a;)o.push(s?String.fromCharCode(n):n),n+=i;return o},cycle:function(e,t){return e[t%e.length]},dump:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=[].concat(t),o="\n",i="  ",s=0,a="",c=function(e){for(var t="";0<e;)e--,t+=i;return t},p=function(e){a+=c(s),"object"===(0,u.default)(e)?l(e):"function"==typeof e?a+="function()"+o:"string"==typeof e?a+="string("+e.length+') "'+e+'"'+o:"number"==typeof e?a+="number("+e+")"+o:"boolean"==typeof e&&(a+="bool("+e+")"+o)},l=function(e){if(null===e)a+="NULL"+o;else if(void 0===e)a+="undefined"+o;else if("object"===(0,u.default)(e)){for(var t in a+=c(s)+(0,u.default)(e),s++,a+="("+function(e){var t,r=0;for(t in e)Object.hasOwnProperty.call(e,t)&&r++;return r}(e)+") {"+o,e)Object.hasOwnProperty.call(e,t)&&(a+=c(s)+"["+t+"]=> "+o,p(e[t]));a+=c(--s)+"}"+o}else p(e)};return 0===n.length&&n.push(this.context),n.forEach(function(e){l(e)}),a},date:function(e){var t;if(null==e||""===e)t=new Date;else if(i.lib.is("Date",e))t=e;else if(i.lib.is("String",e))t=e.match(/^\d+$/)?new Date(1e3*e):new Date(1e3*i.lib.strtotime(e));else{if(!i.lib.is("Number",e))throw new i.Error("Unable to parse date "+e);t=new Date(1e3*e)}return t},block:function(e){e=this.getBlock(e);if(void 0!==e)return e.render(this,this.context)},parent:function(){return this.getBlock(this.getNestingStackToken(i.logic.type.block).blockName,!0).render(this,this.context)},attribute:function(e,t,r){return i.lib.is("Object",e)&&Object.hasOwnProperty.call(e,t)?"function"==typeof e[t]?e[t].apply(void 0,r):e[t]:e&&e[t]||void 0},max:function(e){if(i.lib.is("Object",e))return delete e._keys,i.lib.max(e);for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Reflect.apply(i.lib.max,null,[e].concat(r))},min:function(e){if(i.lib.is("Object",e))return delete e._keys,i.lib.min(e);for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Reflect.apply(i.lib.min,null,[e].concat(r))},template_from_string:function(e){return i.Templates.parsers.twig({options:this.template.options,data:e=void 0===e?"":e})},random:function(e){function t(e){var t=Math.floor(2147483648*Math.random()),r=Math.min.call(null,0,e),e=Math.max.call(null,0,e);return r+Math.floor((e-r+1)*t/2147483648)}return i.lib.is("Number",e)?t(e):i.lib.is("String",e)?e.charAt(t(e.length-1)):i.lib.is("Array",e)?e[t(e.length-1)]:i.lib.is("Object",e)?e[(e=Object.keys(e))[t(e.length-1)]]:t(2147483647)},source:function(e,t){var r,n=!1,o={id:e,path:e,method:void 0!==s.exports&&"undefined"==typeof window?"fs":"ajax",parser:"source",async:!1,fetchTemplateSource:!0};void 0===t&&(t=!1);try{null==(r=i.Templates.loadRemote(e,o))?r="":n=!0}catch(e){i.log.debug("Twig.functions.source: ","Problem loading template  ",e)}return n||t?r:'Template "{name}" is not defined.'.replace("{name}",e)}},i._function=function(e,t,r){if(i.functions[e])return i.functions[e](t,r);throw new i.Error("Unable to find function "+e)},i._function.extend=function(e,t){i.functions[e]=t},i}},function(e,t,r){"use strict";e.exports=function(e){return e.lib={},e.lib.sprintf=r(4),e.lib.vsprintf=r(21),e.lib.round=r(22),e.lib.max=r(24),e.lib.min=r(25),e.lib.stripTags=r(26),e.lib.strtotime=r(28),e.lib.date=r(29),e.lib.boolval=r(30),e.lib.is=function(e,t){if(null==t)return!1;switch(e){case"Array":return Array.isArray(t);case"Date":return t instanceof Date;case"String":return"string"==typeof t||t instanceof String;case"Number":return"number"==typeof t||t instanceof Number;case"Function":return"function"==typeof t;case"Object":return t instanceof Object;default:return!1}},e.lib.replaceAll=function(e,t,r){t=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return e.replace(new RegExp(t,"g"),r)},e.lib.chunkArray=function(e,t){var r=[],n=0,o=e.length;if(t<1||!Array.isArray(e))return[];for(;n<o;)r.push(e.slice(n,n+=t));return r},e}},function(e,t,r){"use strict";e.exports=function(e,t){return r(4).apply(this,[e].concat(t))}},function(e,t,i){"use strict";function s(e,t){var r=Math.floor(Math.abs(e)+.5);return("PHP_ROUND_HALF_DOWN"===t&&e===r-.5||"PHP_ROUND_HALF_EVEN"===t&&e===.5+2*Math.floor(r/2)||"PHP_ROUND_HALF_ODD"===t&&e===.5+2*Math.floor(r/2)-1)&&--r,e<0?-r:r}e.exports=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"PHP_ROUND_HALF_UP",n=i(23),o=i(5);return e=n(e),t=o(t),n=Math.pow(10,t),isNaN(e)||!isFinite(e)||Math.trunc(e)===e&&0<=t?e:(t<(o=14-Math.floor(Math.log10(Math.abs(e))))&&o-15<t?(e=s(e*Math.pow(10,o),r),e/=Math.pow(10,Math.abs(t-o))):e*=n,(e=s(e,r))/n)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":n(e)){case"number":return e;case"string":return parseFloat(e)||0;default:return r(5)(e)}}},function(e,t,r){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){function a(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(e[t]);return r}function c(e,t){var r,n,o,i,s=0;if(e!==t){if("object"!==(void 0===e?"undefined":p(e)))return"object"===(void 0===t?"undefined":p(t))?1:isNaN(t)&&!isNaN(e)?0===e?0:e<0?1:-1:isNaN(e)&&!isNaN(t)?0===t?0:0<t?1:-1:t===e?0:e<t?1:-1;if("object"!==(void 0===t?"undefined":p(t)))return-1;if(e=a(e),t=a(t),i=e.length,(o=t.length)>i)return 1;if(o<i)return-1;for(s=0,r=i;s<r;++s){if(1===(n=c(e[s],t[s])))return 1;if(-1===n)return-1}}return 0}var e,t,r,n=0,o=arguments,i=o.length;if(0===i)throw new Error("At least one value should be passed to max()");if(1===i){if("object"!==p(o[0]))throw new Error("Wrong parameter count for max()");if(0===(e=a(o[0])).length)throw new Error("Array must contain at least one element for max()")}else e=o;for(t=e[0],n=1,r=e.length;n<r;++n)1===c(t,e[n])&&(t=e[n]);return t}},function(e,t,r){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){function a(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(e[t]);return r}function c(e,t){var r,n,o,i,s=0;if(e!==t){if("object"!==(void 0===e?"undefined":p(e)))return"object"===(void 0===t?"undefined":p(t))?1:isNaN(t)&&!isNaN(e)?0===e?0:e<0?1:-1:isNaN(e)&&!isNaN(t)?0===t?0:0<t?1:-1:t===e?0:e<t?1:-1;if("object"!==(void 0===t?"undefined":p(t)))return-1;if(e=a(e),t=a(t),i=e.length,(o=t.length)>i)return 1;if(o<i)return-1;for(s=0,r=i;s<r;++s){if(1===(n=c(e[s],t[s])))return 1;if(-1===n)return-1}}return 0}var e,t,r,n=0,o=arguments,i=o.length;if(0===i)throw new Error("At least one value should be passed to min()");if(1===i){if("object"!==p(o[0]))throw new Error("Wrong parameter count for min()");if(0===(e=a(o[0])).length)throw new Error("Array must contain at least one element for min()")}else e=o;for(t=e[0],n=1,r=e.length;n<r;++n)-1===c(t,e[n])&&(t=e[n]);return t}},function(e,t,a){"use strict";e.exports=function(e,r){var t=a(27),n=(r=(((r||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),/<\/?([a-z0-9]*)\b[^>]*>?/gi),o=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;for(s="<"===(s=t(e)).substring(s.length-1)?s.substring(0,s.length-1):s;;){var i=s,s=i.replace(o,"").replace(n,function(e,t){return-1<r.indexOf("<"+t.toLowerCase()+">")?e:""});if(i===s)return s}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":n(e)){case"boolean":return e?"1":"";case"string":return e;case"number":return isNaN(e)?"NAN":isFinite(e)?e+"":(e<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(e)?"Array":null!==e?"Object":"";default:throw new Error("Unsupported value type")}}},function(e,t,r){"use strict";var n="(?:([ap])\\.?m\\.?([\\t ]|$))",o="(2[0-4]|[01]?[0-9])",i="([01][0-9]|2[0-4])",s="(0?[1-9]|1[0-2])",a="([0-5]?[0-9])",c="([0-5][0-9])",p="(60|[0-5]?[0-9])",l="(60|[0-5][0-9])",u="sunday|monday|tuesday|wednesday|thursday|friday|saturday",h=u+"|sun|mon|tue|wed|thu|fri|sat|weekdays?",f="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",y="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+h,d="([0-9]{1,4})",m="([0-9]{4})",g="(1[0-2]|0?[0-9])",x="(0[0-9]|1[0-2])",b="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",v="(0[0-9]|[1-2][0-9]|3[01])",w="january|february|march|april|may|june|july|august|september|october|november|december",k="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",T="("+w+"|"+k+"|i[vx]|vi{0,3}|xi{0,2}|i{1,3})",S="((?:GMT)?([+-])"+o+":?"+a+"?)",E=T+"[ .\\t-]*"+b+"[,.stndrh\\t ]*";function A(e,t){switch(t=t&&t.toLowerCase()){case"a":e+=12===e?-12:0;break;case"p":e+=12!==e?12:0}return e}function j(e){var t=+e;return e.length<4&&t<100&&(t+=t<70?2e3:1900),t}function O(e){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[e.toLowerCase()]}function N(e,t){t=1<arguments.length&&void 0!==t?t:0;return{mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0}[e.toLowerCase()]||t}function _(e,t){var r,n,o;return(e=e&&e.match(/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i))?(r="-"===e[1]?1:-1,n=+e[2],o=+e[4],e[4]||e[3]||(o=Math.floor(n%100),n=Math.floor(n/100)),r*(60*n+o)):t}var P={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return--this.rd,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(e,t){return this.rs+=+t,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(e,t){"first"===t.toLowerCase()?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+o+"[ \\t]*"+n+"?","i"),name:"backof | frontof",callback:function(e,t,r,n){var r=+r,o=15;return"back"!==t.toLowerCase()&&(--r,o=45),r=A(r,n),this.resetTime()&&this.time(r,o,0,0)}},weekdayOf:{regex:RegExp("^("+f+"|next|last|previous|this)[ \\t]+("+u+"|sun|mon|tue|wed|thu|fri|sat)[ \\t]+of","i"),name:"weekdayof"},mssqltime:{regex:RegExp("^"+s+":"+c+":"+l+"[:.]([0-9]+)"+n,"i"),name:"mssqltime",callback:function(e,t,r,n,o,i){return this.time(A(+t,i),+r,+n,+o.substr(0,3))}},timeLong12:{regex:RegExp("^"+s+"[:.]"+a+"[:.]"+l+"[ \\t]*"+n,"i"),name:"timelong12",callback:function(e,t,r,n,o){return this.time(A(+t,o),+r,+n,0)}},timeShort12:{regex:RegExp("^"+s+"[:.]"+c+"[ \\t]*"+n,"i"),name:"timeshort12",callback:function(e,t,r,n){return this.time(A(+t,n),+r,0,0)}},timeTiny12:{regex:RegExp("^"+s+"[ \\t]*"+n,"i"),name:"timetiny12",callback:function(e,t,r){return this.time(A(+t,r),0,0,0)}},soap:{regex:RegExp("^"+m+"-"+x+"-"+v+"T"+i+":"+c+":"+l+"(?:\\.([0-9]+))"+S+"?","i"),name:"soap",callback:function(e,t,r,n,o,i,s,a,c){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,+a.substr(0,3))&&this.zone(_(c))}},wddx:{regex:RegExp("^"+m+"-"+g+"-"+b+"T"+o+":"+a+":"+p),name:"wddx",callback:function(e,t,r,n,o,i,s){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,0)}},exif:{regex:RegExp("^"+m+":"+x+":"+v+" "+i+":"+c+":"+l,"i"),name:"exif",callback:function(e,t,r,n,o,i,s){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,0)}},xmlRpc:{regex:RegExp("^"+m+x+v+"T"+o+":"+c+":"+l),name:"xmlrpc",callback:function(e,t,r,n,o,i,s){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,0)}},xmlRpcNoColon:{regex:RegExp("^"+m+x+v+"[Tt]"+o+c+l),name:"xmlrpcnocolon",callback:function(e,t,r,n,o,i,s){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,0)}},clf:{regex:RegExp("^"+b+"/("+k+")/"+m+":"+i+":"+c+":"+l+"[ \\t]+"+S,"i"),name:"clf",callback:function(e,t,r,n,o,i,s,a){return this.ymd(+n,O(r),+t)&&this.time(+o,+i,+s,0)&&this.zone(_(a))}},iso8601long:{regex:RegExp("^t?"+o+"[:.]"+a+"[:.]"+p+"(?:\\.([0-9]+))","i"),name:"iso8601long",callback:function(e,t,r,n,o){return this.time(+t,+r,+n,+o.substr(0,3))}},dateTextual:{regex:RegExp("^"+T+"[ .\\t-]*"+b+"[,.stndrh\\t ]+"+d,"i"),name:"datetextual",callback:function(e,t,r,n){return this.ymd(j(n),O(t),+r)}},pointedDate4:{regex:RegExp("^"+b+"[.\\t-]"+g+"[.-]"+m),name:"pointeddate4",callback:function(e,t,r,n){return this.ymd(+n,r-1,+t)}},pointedDate2:{regex:RegExp("^"+b+"[.\\t]"+g+"\\.([0-9]{2})"),name:"pointeddate2",callback:function(e,t,r,n){return this.ymd(j(n),r-1,+t)}},timeLong24:{regex:RegExp("^t?"+o+"[:.]"+a+"[:.]"+p),name:"timelong24",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},dateNoColon:{regex:RegExp("^"+m+x+v),name:"datenocolon",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},pgydotd:{regex:RegExp("^"+m+"\\.?(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])"),name:"pgydotd",callback:function(e,t,r){return this.ymd(+t,0,+r)}},timeShort24:{regex:RegExp("^t?"+o+"[:.]"+a,"i"),name:"timeshort24",callback:function(e,t,r){return this.time(+t,+r,0,0)}},iso8601noColon:{regex:RegExp("^t?"+i+c+l,"i"),name:"iso8601nocolon",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},iso8601dateSlash:{regex:RegExp("^"+m+"/"+x+"/"+v+"/"),name:"iso8601dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},dateSlash:{regex:RegExp("^"+m+"/"+g+"/"+b),name:"dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},american:{regex:RegExp("^"+g+"/"+b+"/"+d),name:"american",callback:function(e,t,r,n){return this.ymd(j(n),t-1,+r)}},americanShort:{regex:RegExp("^"+g+"/"+b),name:"americanshort",callback:function(e,t,r){return this.ymd(this.y,t-1,+r)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+d+"-"+g+"-"+b),name:"gnudateshort | iso8601date2",callback:function(e,t,r,n){return this.ymd(j(t),r-1,+n)}},iso8601date4:{regex:RegExp("^([+-]?[0-9]{4})-"+x+"-"+v),name:"iso8601date4",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},gnuNoColon:{regex:RegExp("^t?"+i+c,"i"),name:"gnunocolon",callback:function(e,t,r){switch(this.times){case 0:return this.time(+t,+r,0,this.f);case 1:return this.y=100*t+ +r,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+m+"-"+g),name:"gnudateshorter",callback:function(e,t,r){return this.ymd(+t,r-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+k+")-"+v,"i"),name:"pgtextreverse",callback:function(e,t,r,n){return this.ymd(j(t),O(r),+n)}},dateFull:{regex:RegExp("^"+b+"[ \\t.-]*"+T+"[ \\t.-]*"+d,"i"),name:"datefull",callback:function(e,t,r,n){return this.ymd(j(n),O(r),+t)}},dateNoDay:{regex:RegExp("^"+T+"[ .\\t-]*"+m,"i"),name:"datenoday",callback:function(e,t,r){return this.ymd(+r,O(t),1)}},dateNoDayRev:{regex:RegExp("^"+m+"[ .\\t-]*"+T,"i"),name:"datenodayrev",callback:function(e,t,r){return this.ymd(+t,O(r),1)}},pgTextShort:{regex:RegExp("^("+k+")-"+v+"-"+d,"i"),name:"pgtextshort",callback:function(e,t,r,n){return this.ymd(j(n),O(t),+r)}},dateNoYear:{regex:RegExp("^"+E,"i"),name:"datenoyear",callback:function(e,t,r){return this.ymd(this.y,O(t),+r)}},dateNoYearRev:{regex:RegExp("^"+b+"[ .\\t-]*"+T,"i"),name:"datenoyearrev",callback:function(e,t,r){return this.ymd(this.y,O(r),+t)}},isoWeekDay:{regex:RegExp("^"+m+"-?W(0[1-9]|[1-4][0-9]|5[0-3])(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(e,t,r,n){if(n=n?+n:1,!this.ymd(+t,0,1))return!1;t=new Date(this.y,this.m,this.d).getDay();this.rd+=0-(4<t?t-7:t)+7*(r-1)+n}},relativeText:{regex:RegExp("^("+f+"|next|last|previous|this)[ \\t]+("+y+")","i"),name:"relativetext",callback:function(e,t,r){var n={amount:{last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12}[t=t.toLowerCase()],behavior:{this:1}[t]||0}.amount;switch(r.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=n;break;case"min":case"mins":case"minute":case"minutes":this.ri+=n;break;case"hour":case"hours":this.rh+=n;break;case"day":case"days":this.rd+=n;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*n;break;case"week":case"weeks":this.rd+=7*n;break;case"month":case"months":this.rm+=n;break;case"year":case"years":this.ry+=n;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=N(r,7),this.weekdayBehavior=1,this.rd+=7*(0<n?n-1:n)}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)[ \\t]*("+y+"|week)","i"),name:"relative",callback:function(e,t,r,n){var t=t.replace(/[^-]/g,"").length,o=+r*Math.pow(-1,t);switch(n.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=o;break;case"min":case"mins":case"minute":case"minutes":this.ri+=o;break;case"hour":case"hours":this.rh+=o;break;case"day":case"days":this.rd+=o;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*o;break;case"week":case"weeks":this.rd+=7*o;break;case"month":case"months":this.rm+=o;break;case"year":case"years":this.ry+=o;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=N(n,7),this.weekdayBehavior=1,this.rd+=7*(0<o?o-1:o)}}},dayText:{regex:RegExp("^("+h+")","i"),name:"daytext",callback:function(e,t){this.resetTime(),this.weekday=N(t,0),2!==this.weekdayBehavior&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^(next|last|previous|this)[ \\t]+week","i"),name:"relativetextweek",callback:function(e,t){switch(this.weekdayBehavior=2,t.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+w+"|"+k+")","i"),name:"monthfull | monthabbr",callback:function(e,t){return this.ymd(this.y,O(t),this.d)}},tzCorrection:{regex:RegExp("^"+S,"i"),name:"tzcorrection",callback:function(e){return this.zone(_(e))}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+m),name:"year4",callback:function(e,t){return this.y=+t,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+E+"t?"+o+"[:.]"+a+"[:.]"+p,"i"),name:"dateshortwithtimelong",callback:function(e,t,r,n,o,i){return this.ymd(this.y,O(t),+r)&&this.time(+n,+o,+i,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+E+s+"[:.]"+a+"[:.]"+l+"[ \\t]*"+n,"i"),name:"dateshortwithtimelong12",callback:function(e,t,r,n,o,i,s){return this.ymd(this.y,O(t),+r)&&this.time(A(+n,s),+o,+i,0)}},dateShortWithTimeShort:{regex:RegExp("^"+E+"t?"+o+"[:.]"+a,"i"),name:"dateshortwithtimeshort",callback:function(e,t,r,n,o){return this.ymd(this.y,O(t),+r)&&this.time(+n,+o,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+E+s+"[:.]"+c+"[ \\t]*"+n,"i"),name:"dateshortwithtimeshort12",callback:function(e,t,r,n,o,i){return this.ymd(this.y,O(t),+r)&&this.time(A(+n,i),+o,0,0)}}},R={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(e,t,r){return!(0<this.dates||(this.dates++,this.y=e,this.m=t,this.d=r,0))},time:function(e,t,r,n){return!(0<this.times||(this.times++,this.h=e,this.i=t,this.s=r,this.f=n,0))},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,!(this.times=0)},zone:function(e){return this.zones<=1&&(this.zones++,this.z=e,!0)},toDate:function(e){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=e.getFullYear()),isNaN(this.m)&&(this.m=e.getMonth()),isNaN(this.d)&&(this.d=e.getDate()),isNaN(this.h)&&(this.h=e.getHours()),isNaN(this.i)&&(this.i=e.getMinutes()),isNaN(this.s)&&(this.s=e.getSeconds()),isNaN(this.f)&&(this.f=e.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1}isNaN(this.weekday)||((t=new Date(e.getTime())).setFullYear(this.y,this.m,this.d),t.setHours(this.h,this.i,this.s,this.f),t=t.getDay(),2===this.weekdayBehavior?(0===t&&0!==this.weekday&&(this.weekday=-6),0===this.weekday&&0!==t&&(this.weekday=7),this.d-=t,this.d+=this.weekday):(r=this.weekday-t,(this.rd<0&&r<0||0<=this.rd&&r<=-this.weekdayBehavior)&&(r+=7),0<=this.weekday?this.d+=r:this.d-=7-(Math.abs(this.weekday)-t),this.weekday=NaN)),this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var t,r,n=new Date(e.getTime());switch(n.setFullYear(this.y,this.m,this.d),n.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:n.setDate(1);break;case-1:n.setMonth(n.getMonth()+1,0)}return isNaN(this.z)||n.getTimezoneOffset()===this.z||(n.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),n.setUTCHours(n.getHours(),n.getMinutes()+this.z,n.getSeconds(),n.getMilliseconds())),n}};e.exports=function(e,t){null==t&&(t=Math.floor(Date.now()/1e3));for(var r=[P.yesterday,P.now,P.noon,P.midnightOrToday,P.tomorrow,P.timestamp,P.firstOrLastDay,P.backOrFrontOf,P.timeTiny12,P.timeShort12,P.timeLong12,P.mssqltime,P.timeShort24,P.timeLong24,P.iso8601long,P.gnuNoColon,P.iso8601noColon,P.americanShort,P.american,P.iso8601date4,P.iso8601dateSlash,P.dateSlash,P.gnuDateShortOrIso8601date2,P.gnuDateShorter,P.dateFull,P.pointedDate4,P.pointedDate2,P.dateNoDay,P.dateNoDayRev,P.dateTextual,P.dateNoYear,P.dateNoYearRev,P.dateNoColon,P.xmlRpc,P.xmlRpcNoColon,P.soap,P.wddx,P.exif,P.pgydotd,P.isoWeekDay,P.pgTextShort,P.pgTextReverse,P.clf,P.year4,P.ago,P.dayText,P.relativeTextWeek,P.relativeText,P.monthFullOrMonthAbbr,P.tzCorrection,P.dateShortWithTimeShort12,P.dateShortWithTimeLong12,P.dateShortWithTimeShort,P.dateShortWithTimeLong,P.relative,P.whitespace],n=Object.create(R);e.length;){for(var o=null,i=null,s=0,a=r.length;s<a;s++){var c=r[s],p=e.match(c.regex);p&&(!o||p[0].length>o[0].length)&&(o=p,i=c)}if(!i||i.callback&&!1===i.callback.apply(n,o))return!1;e=e.substr(o[0].length),o=i=null}return Math.floor(n.toDate(new Date(1e3*t))/1e3)}},function(e,t,r){"use strict";e.exports=function(e,t){function r(e,t){return a[e]?a[e]():t}function n(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}var o,i=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],s=/\\?(.?)/gi,a={d:function(){return n(a.j(),2)},D:function(){return a.l().slice(0,3)},j:function(){return o.getDate()},l:function(){return i[a.w()]+"day"},N:function(){return a.w()||7},S:function(){var e=a.j(),t=e%10;return["st","nd","rd"][(t=t<=3&&1===parseInt(e%100/10,10)?0:t)-1]||"th"},w:function(){return o.getDay()},z:function(){var e=new Date(a.Y(),a.n()-1,a.j()),t=new Date(a.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(a.Y(),a.n()-1,a.j()-a.N()+3),t=new Date(e.getFullYear(),0,4);return n(1+Math.round((e-t)/864e5/7),2)},F:function(){return i[6+a.n()]},m:function(){return n(a.n(),2)},M:function(){return a.F().slice(0,3)},n:function(){return o.getMonth()+1},t:function(){return new Date(a.Y(),a.n(),0).getDate()},L:function(){var e=a.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=a.n(),t=a.W();return a.Y()+(12===e&&t<9?1:1===e&&9<t?-1:0)},Y:function(){return o.getFullYear()},y:function(){return a.Y().toString().slice(-2)},a:function(){return 11<o.getHours()?"pm":"am"},A:function(){return a.a().toUpperCase()},B:function(){var e=3600*o.getUTCHours(),t=60*o.getUTCMinutes(),r=o.getUTCSeconds();return n(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return a.G()%12||12},G:function(){return o.getHours()},h:function(){return n(a.g(),2)},H:function(){return n(a.G(),2)},i:function(){return n(o.getMinutes(),2)},s:function(){return n(o.getSeconds(),2)},u:function(){return n(1e3*o.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(a.Y(),0)-Date.UTC(a.Y(),0)!=new Date(a.Y(),6)-Date.UTC(a.Y(),6)?1:0},O:function(){var e=o.getTimezoneOffset(),t=Math.abs(e);return(0<e?"-":"+")+n(100*Math.floor(t/60)+t%60,4)},P:function(){var e=a.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-o.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(s,r)},r:function(){return"D, d M Y H:i:s O".replace(s,r)},U:function(){return o/1e3|0}};return e=e,o=void 0===(t=t)?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(s,r)}},function(e,t,r){"use strict";e.exports=function(e){return!1!==e&&0!==e&&""!==e&&"0"!==e&&(!Array.isArray(e)||0!==e.length)&&null!=e}},function(e,t,r){"use strict";e.exports=function(p){p.Templates.registerLoader("ajax",function(t,r,n,o){var i,s=r.precompiled,a=this.parsers[r.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new p.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');var c=new XMLHttpRequest;return c.onreadystatechange=function(){var e;4===c.readyState&&(200===c.status||window.cordova&&0===c.status?(p.log.debug("Got template ",c.responseText),e=!0===s?JSON.parse(c.responseText):c.responseText,r.url=t,r.data=e,i=a.call(this,r),"function"==typeof n&&n(i)):"function"==typeof o&&o(c))},c.open("GET",t,Boolean(r.async)),c.overrideMimeType("text/plain"),c.send(),!!r.async||i})}},function(e,t,r){"use strict";e.exports=function(l){var u,t;try{u=r(33),t=r(6)}catch(l){console.warn("Missing fs and path modules. "+l)}l.Templates.registerLoader("fs",function(r,n,o,i){var s,e,a=n.precompiled,c=this.parsers[n.parser]||this.parser.twig;if(!u||!t)throw new l.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');function p(e,t){e?"function"==typeof i&&i(e):(!0===a&&(t=JSON.parse(t)),n.data=t,n.path=n.path||r,s=c.call(this,n),"function"==typeof o&&o(s))}if(n.path=n.path||r,n.async)return u.stat(n.path,function(e,t){!e&&t.isFile()?u.readFile(n.path,"utf8",p):"function"==typeof i&&i(new l.Error("Unable to find template file "+n.path))}),!0;try{if(!u.statSync(n.path).isFile())throw new l.Error("Unable to find template file "+n.path)}catch(e){throw new l.Error("Unable to find template file "+n.path+". "+e)}return e=u.readFileSync(n.path,"utf8"),p(void 0,e),s})}},function(e,t){},function(e,t){var r,n,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}var a,c=[],p=!1,l=-1;function u(){p&&a&&(p=!1,a.length?c=a.concat(c):l=-1,c.length)&&h()}function h(){if(!p){var e=s(u);p=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,p=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return(n=clearTimeout)(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function y(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||p||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=y,e.addListener=y,e.once=y,e.off=y,e.removeListener=y,e.removeAllListeners=y,e.emit=y,e.prependListener=y,e.prependOnceListener=y,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0)(r(2));function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){(0,n.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}e.exports=function(u){for(u.logic={},u.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",apply:"Twig.logic.type.apply",endapply:"Twig.logic.type.endapply",do:"Twig.logic.type.do",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",deprecated:"Twig.logic.type.deprecated"},u.logic.definitions=[{type:u.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[u.logic.type.else_,u.logic.type.elseif,u.logic.type.endif],open:!0,compile:function(e){var t=e.match[1];return e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:t}).stack,delete e.match,e},parse:function(t,r,n){var o=this;return u.expression.parseAsync.call(o,t.stack,r).then(function(e){return n=!0,u.lib.boolval(e)?(n=!1,o.parseAsync(t.output,r)):""}).then(function(e){return{chain:n,output:e}})}},{type:u.logic.type.elseif,regex:/^elseif\s?([^\s].*)$/,next:[u.logic.type.else_,u.logic.type.elseif,u.logic.type.endif],open:!1,compile:function(e){var t=e.match[1];return e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:t}).stack,delete e.match,e},parse:function(t,r,n){var o=this;return u.expression.parseAsync.call(o,t.stack,r).then(function(e){return n&&u.lib.boolval(e)?(n=!1,o.parseAsync(t.output,r)):""}).then(function(e){return{chain:n,output:e}})}},{type:u.logic.type.else_,regex:/^else$/,next:[u.logic.type.endif,u.logic.type.endfor],open:!1,parse:function(e,t,r){var n=u.Promise.resolve("");return(n=r?this.parseAsync(e.output,t):n).then(function(e){return{chain:r,output:e}})}},{type:u.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:u.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[u.logic.type.else_,u.logic.type.endfor],open:!0,compile:function(e){var t=e.match[1],r=e.match[2],n=e.match[3],o=null;if(e.keyVar=null,e.valueVar=null,t.includes(",")){if(2!==(o=t.split(",")).length)throw new u.Error("Invalid expression in for loop: "+t);e.keyVar=o[0].trim(),e.valueVar=o[1].trim()}else e.valueVar=t.trim();return e.expression=u.expression.compile.call(this,{type:u.expression.type.expression,value:r}).stack,n&&(e.conditional=u.expression.compile.call(this,{type:u.expression.type.expression,value:n}).stack),delete e.match,e},parse:function(n,o,e){function r(e,t){var r=h({},o);return r[n.valueVar]=t,n.keyVar&&(r[n.keyVar]=e),r.loop={index:c+1,index0:c,revindex:(t=void 0!==l)?void 0:i-c,revindex0:t?void 0:i-c-1,first:0===c,last:t?void 0:c===i-1,length:t?void 0:i,parent:o},(void 0===l?u.Promise.resolve(!0):u.expression.parseAsync.call(p,l,r)).then(function(e){if(e)return p.parseAsync(n.output,r).then(function(e){a.push(e),c+=1})}).then(function(){delete r.loop,delete r[n.valueVar],delete r[n.keyVar],u.merge(o,r,!0)})}var i,s,a=[],c=0,p=this,l=n.conditional;return u.expression.parseAsync.call(p,n.expression,o).then(function(t){return Array.isArray(t)?(i=t.length,u.async.forEach(t,function(e){return r(c,e)})):u.lib.is("Object",t)?(s=void 0===t._keys?Object.keys(t):t._keys,i=s.length,u.async.forEach(s,function(e){if("_keys"!==e)return r(e,t[e])})):void 0}).then(function(){return{chain:0===a.length,context:o,output:u.output.call(p.template,a)}})}},{type:u.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:u.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(e){var t=e.match[1].trim(),r=e.match[2],r=u.expression.compile.call(this,{type:u.expression.type.expression,value:r}).stack;return e.key=t,e.expression=r,delete e.match,e},parse:function(e,t,r){var n=e.key;return u.expression.parseAsync.call(this,e.expression,t).then(function(e){return e===t&&(e=h({},e)),t[n]=e,{chain:r,context:t}})}},{type:u.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[u.logic.type.endset],open:!0,compile:function(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse:function(e,t,r){var n=this,o=e.key;return n.parseAsync(e.output,t).then(function(e){return n.context[o]=e,t[o]=e,{chain:r,context:t}})}},{type:u.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:u.logic.type.filter,regex:/^filter\s+(.+)$/,next:[u.logic.type.endfilter],open:!0,compile:function(e){var t="|"+e.match[1].trim();return e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:t}).stack,delete e.match,e},parse:function(t,r,n){var o=this;return o.parseAsync(t.output,r).then(function(e){e=[{type:u.expression.type.string,value:e}].concat(t.stack);return u.expression.parseAsync.call(o,e,r)}).then(function(e){return{chain:n,output:e}})}},{type:u.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:u.logic.type.apply,regex:/^apply\s+(.+)$/,next:[u.logic.type.endapply],open:!0,compile:function(e){var t="|"+e.match[1].trim();return e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:t}).stack,delete e.match,e},parse:function(t,r,n){var o=this;return o.parseAsync(t.output,r).then(function(e){e=[{type:u.expression.type.string,value:e}].concat(t.stack);return u.expression.parseAsync.call(o,e,r)}).then(function(e){return{chain:n,output:e}})}},{type:u.logic.type.endapply,regex:/^endapply$/,next:[],open:!1},{type:u.logic.type.do,regex:/^do\s+([\S\s]+)$/,next:[],open:!0,compile:function(e){var t=e.match[1],t=u.expression.compile.call(this,{type:u.expression.type.expression,value:t}).stack;return e.expression=t,delete e.match,e},parse:function(e,t,r){return u.expression.parseAsync.call(this,e.expression,t).then(function(){return{chain:r,context:t}})}},{type:u.logic.type.block,regex:/^block\s+(\w+)$/,next:[u.logic.type.endblock],open:!0,compile:function(e){return e.blockName=e.match[1].trim(),delete e.match,e},parse:function(e,t,r){var n=u.Promise.resolve();return this.template.blocks.defined[e.blockName]=new u.Block(this.template,e),(n=null===this.template.parentTemplate||this.template.parentTemplate instanceof u.Template?this.getBlock(e.blockName).render(this,t):n).then(function(e){return{chain:r,output:e}})}},{type:u.logic.type.shortblock,regex:/^block\s+(\w+)\s+(.+)$/,next:[],open:!0,compile:function(e){return e.expression=e.match[2].trim(),e.output=u.expression.compile({type:u.expression.type.expression,value:e.expression}).stack,u.logic.handler[u.logic.type.block].compile.apply(this,[e])},parse:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.logic.handler[u.logic.type.block].parse.apply(this,t)}},{type:u.logic.type.endblock,regex:/^endblock(?:\s+(\w+))?$/,next:[],open:!1},{type:u.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(e){var t=e.match[1].trim();return delete e.match,e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:t}).stack,e},parse:function(e,t,r){var n=this;return u.expression.parseAsync.call(n,e.stack,t).then(function(e){var t;return Array.isArray(e)?null!==(t=e.reverse().reduce(function(e,t){try{return{render:n.template.importFile(t),fileName:t}}catch(t){return e}},{render:null,fileName:null})).fileName&&(n.template.parentTemplate=t.fileName):n.template.parentTemplate=e,{chain:r,output:""}})}},{type:u.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(e){var t=e.match[1].trim();return delete e.match,e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:t}).stack,e},parse:function(e,t,r){var n=this;return u.expression.parseAsync.call(n,e.stack,t).then(function(e){var e=n.template.importFile(e),t=new u.ParseState(e);return t.parseAsync(e.tokens).then(function(){n.template.blocks.imported=h(h({},n.template.blocks.imported),t.getBlocks())})}).then(function(){return{chain:r,output:""}})}},{type:u.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile:function(e){var t=e.match,r=t[1].trim(),n=void 0!==t[2],o=t[3],t=void 0!==t[4]&&t[4].length;return delete e.match,e.only=t,e.ignoreMissing=n,e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:r}).stack,void 0!==o&&(e.withStack=u.expression.compile.call(this,{type:u.expression.type.expression,value:o.trim()}).stack),e},parse:function(e,t,r){var n=e.only?{}:h({},t),o=e.ignoreMissing,i=this,s={chain:r,output:""};return(void 0===e.withStack?u.Promise.resolve():u.expression.parseAsync.call(i,e.withStack,t).then(function(e){n=h(h({},n),e)})).then(function(){return u.expression.parseAsync.call(i,e.stack,t)}).then(function(e){e=(Array.isArray(e)?e:[e]).reduce(function(e,t){if(null===e.render){if(t instanceof u.Template)return{render:t.renderAsync(n,{isInclude:!0}),lastError:null};try{return{render:i.template.importFile(t).renderAsync(n,{isInclude:!0}),lastError:null}}catch(e){return{render:null,lastError:e}}}return e},{render:null,lastError:null});if(null!==e.render)return e.render;if(null===e.render&&o)return"";throw e.lastError}).then(function(e){return""!==e&&(s.output=e),s})}},{type:u.logic.type.spaceless,regex:/^spaceless$/,next:[u.logic.type.endspaceless],open:!0,parse:function(e,t,r){return this.parseAsync(e.output,t).then(function(e){e=e.replace(/>\s+</g,"><").trim(),e=new u.Markup(e);return{chain:r,output:e}})}},{type:u.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:u.logic.type.macro,regex:/^macro\s+(\w+)\s*\(\s*((?:\w+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[u.logic.type.endmacro],open:!0,compile:function(e){var t=e.match[1],r=e.match[2].split(/\s*,\s*/),n=r.map(function(e){return e.split(/\s*=\s*/)[0]}),o=n.length;if(1<o)for(var i={},s=0;s<o;s++){var a=n[s];if(i[a])throw new u.Error("Duplicate arguments for parameter: "+a);i[a]=1}return e.macroName=t,e.parameters=n,e.defaults=r.reduce(function(e,t){var t=t.split(/\s*=\s*/),r=t[0],t=t[1];return e[r]=t?u.expression.compile.call(this,{type:u.expression.type.expression,value:t}).stack:void 0,e},{}),delete e.match,e},parse:function(o,i,e){var s=this;return s.macros[o.macroName]=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=h(h({},i),{},{_self:s.macros});return u.async.forEach(o.parameters,function(t,e){return void 0!==r[e]?(n[t]=r[e],!0):void 0!==o.defaults[t]?u.expression.parseAsync.call(this,o.defaults[t],i).then(function(e){return n[t]=e,u.Promise.resolve()}):!(n[t]=void 0)}).then(function(){return s.parseAsync(o.output,n)})},{chain:e,output:""}}},{type:u.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:u.logic.type.import_,regex:/^import\s+(.+)\s+as\s+(\w+)$/,next:[],open:!0,compile:function(e){var t=e.match[1].trim(),r=e.match[2].trim();return delete e.match,e.expression=t,e.contextName=r,e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:t}).stack,e},parse:function(r,n,e){var t=this,o={chain:e,output:""};return"_self"===r.expression?(n[r.contextName]=t.macros,o):u.expression.parseAsync.call(t,r.stack,n).then(function(e){return t.template.importFile(e||r.expression)}).then(function(e){var t=new u.ParseState(e);return t.parseAsync(e.tokens).then(function(){return n[r.contextName]=t.macros,o})})}},{type:u.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(e){var t,r=e.match[1].trim(),n={},o=function(e,t){var r,n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e){var t;if(e)return"string"==typeof e?a(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,void 0):void 0}(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}(e.match[2].trim().split(/\s*,\s*/));try{for(o.s();!(t=o.n()).done;){var i=t.value,s=i.match(/^(\w+)\s+as\s+(\w+)$/);s?n[s[1].trim()]=s[2].trim():i.match(/^(\w+)$/)&&(n[i]=i)}}catch(e){o.e(e)}finally{o.f()}return delete e.match,e.expression=r,e.macroNames=n,e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:r}).stack,e},parse:function(r,n,o){var t=this;return("_self"===r.expression?u.Promise.resolve(t.macros):u.expression.parseAsync.call(t,r.stack,n).then(function(e){return t.template.importFile(e||r.expression)}).then(function(e){var t=new u.ParseState(e);return t.parseAsync(e.tokens).then(function(){return t.macros})})).then(function(e){for(var t in r.macroNames)void 0!==e[t]&&(n[r.macroNames[t]]=e[t]);return{chain:o,output:""}})}},{type:u.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[u.logic.type.endembed],open:!0,compile:function(e){var t=e.match,r=t[1].trim(),n=void 0!==t[2],o=t[3],t=void 0!==t[4]&&t[4].length;return delete e.match,e.only=t,e.ignoreMissing=n,e.stack=u.expression.compile.call(this,{type:u.expression.type.expression,value:r}).stack,void 0!==o&&(e.withStack=u.expression.compile.call(this,{type:u.expression.type.expression,value:o.trim()}).stack),e},parse:function(r,e,t){var n={},o=u.Promise.resolve(),i=this;return r.only||(n=h({},e)),(o=void 0!==r.withStack?u.expression.parseAsync.call(i,r.withStack,e).then(function(e){n=h(h({},n),e)}):o).then(function(){return u.expression.parseAsync.call(i,r.stack,n)}).then(function(e){var t=new u.Template({data:r.output,id:i.template.id,base:i.template.base,path:i.template.path,url:i.template.url,name:i.template.name,method:i.template.method,options:i.template.options});try{t.importFile(e)}catch(e){if(r.ignoreMissing)return"";throw i=null,e}return t.parentTemplate=e,t.renderAsync(n,{isInclude:!0})}).then(function(e){return{chain:t,output:e}})}},{type:u.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:u.logic.type.with,regex:/^(?:with\s+([\S\s]+?))(?:\s|$)(only)?$/,next:[u.logic.type.endwith],open:!0,compile:function(e){var t=e.match,r=t[1],t=void 0!==t[2]&&t[2].length;return delete e.match,e.only=t,void 0!==r&&(e.withStack=u.expression.compile.call(this,{type:u.expression.type.expression,value:r.trim()}).stack),e},parse:function(e,t,r){var n,o={},i=this,s=u.Promise.resolve();return e.only||(o=h({},t)),(s=void 0!==e.withStack?u.expression.parseAsync.call(i,e.withStack,t).then(function(e){for(n in e)Object.hasOwnProperty.call(e,n)&&(o[n]=e[n])}):s).then(function(){return i.parseAsync(e.output,o)}).then(function(e){return{chain:r,output:e}})}},{type:u.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:u.logic.type.deprecated,regex:/^deprecated\s+(.+)$/,next:[],open:!0,compile:function(e){return console.warn("Deprecation notice: "+e.match[1]),e},parse:function(){return{}}}],u.logic.handler={},u.logic.extendType=function(e,t){u.logic.type[e]=t=t||"Twig.logic.type"+e},u.logic.extend=function(e){if(!e.type)throw new u.Error("Unable to extend logic definition. No type provided for "+e);u.logic.extendType(e.type),u.logic.handler[e.type]=e};0<u.logic.definitions.length;)u.logic.extend(u.logic.definitions.shift());return u.logic.compile=function(e){var e=e.value.trim(),e=u.logic.tokenize.call(this,e),t=u.logic.handler[e.type];return t.compile&&(e=t.compile.call(this,e),u.log.trace("Twig.logic.compile: ","Compiled logic token to ",e)),e},u.logic.tokenize=function(e){var t,r,n,o,i=null,s=null,a=null;for(i in e=e.trim(),u.logic.handler)if(Object.hasOwnProperty.call(u.logic.handler,i))for(t=u.logic.handler[i].type,s=r=u.logic.handler[i].regex,Array.isArray(r)||(s=[r]),n=s.length,a=0;a<n;a++)if(null!==(o=s[a].exec(e)))return u.log.trace("Twig.logic.tokenize: ","Matched a ",t," regular expression of ",o),{type:t,match:o};throw new u.Error("Unable to parse '"+e.trim()+"'")},u.logic.parse=function(r,n,o,e){return u.async.potentiallyAsync(this,e,function(){u.log.debug("Twig.logic.parse: ","Parsing logic token ",r);var e=u.logic.handler[r.type],t=this;return e.parse?(t.nestingStack.unshift(r),e=e.parse.call(t,r,n||{},o),u.isPromise(e)?e=e.then(function(e){return t.nestingStack.shift(),e}):t.nestingStack.shift(),e):""})},u}},function(e,t,r){"use strict";e.exports=function(e){e.Templates.registerParser("source",function(e){return e.data||""})}},function(e,t,r){"use strict";e.exports=function(t){t.Templates.registerParser("twig",function(e){return new t.Template(e)})}},function(e,t,u){"use strict";var c=u(0)(u(1));e.exports=function(l){return l.path={},l.path.parsePath=function(e,t){var r=null,n=e.options.namespaces,o=t||"";if(n&&"object"===(0,c.default)(n))for(r in n)if(o.includes(r)){var i=new RegExp("^"+r+"::"),s=new RegExp("^@"+r+"/"),a=n[r].replace(/([^/])$/,"$1/");if(i.test(o))return o.replace(i,a);if(s.test(o))return o.replace(s,a)}return l.path.relativePath(e,o)},l.path.relativePath=function(e,t){var r,n,o="/",i=[],t=t||"";if(e.url)s=void 0===e.base?e.url:e.base.replace(/([^/])$/,"$1/");else if(e.path){var s,a=u(6),c=a.sep||o,p=new RegExp("^\\.{1,2}"+c.replace("\\","\\\\")),t=t.replace(/\//g,c);s=(s=void 0!==e.base&&null===t.match(p)?(t=t.replace(e.base,""),e.base+c):a.normalize(e.path)).replace(c+c,c),o=c}else{if(!e.name&&!e.id||!e.method||"fs"===e.method||"ajax"===e.method)throw new l.Error("Cannot extend an inline template.");s=e.base||e.name||e.id}for((r=s.split(o)).pop(),r=r.concat(t.split(o));0<r.length;)"."!==(n=r.shift())&&(".."===n&&0<i.length&&".."!==i[i.length-1]?i.pop():i.push(n));return i.join(o)},l}},function(e,t,r){"use strict";e.exports=function(n){return n.tests={empty:function(e){if(null!=e){if("number"==typeof e)return!1;if(0<e.length)return!1;for(var t in e)if(Object.hasOwnProperty.call(e,t))return!1}return!0},odd:function(e){return e%2==1},even:function(e){return e%2==0},divisibleby:function(e,t){return e%t[0]==0},defined:function(e){return void 0!==e},none:function(e){return null===e},null:function(e){return this.none(e)},"same as":function(e,t){return e===t[0]},sameas:function(e,t){return console.warn("`sameas` is deprecated use `same as`"),n.tests["same as"](e,t)},iterable:function(e){return e&&(n.lib.is("Array",e)||n.lib.is("Object",e))}},n.test=function(e,t,r){if(n.tests[e])return n.tests[e](t,r);throw n.Error("Test "+e+" is not defined.")},n.test.extend=function(e,t){n.tests[e]=t},n}},function(e,t,r){"use strict";e.exports=function(c){return c.ParseState.prototype.parseAsync=function(e,t){return this.parse(e,t,!0)},c.expression.parseAsync=function(e,t,r){return c.expression.parse.call(this,e,t,r,!0)},c.logic.parseAsync=function(e,t,r){return c.logic.parse.call(this,e,t,r,!0)},c.Template.prototype.renderAsync=function(e,t){return this.render(e,t,!0)},c.async={},c.isPromise=function(e){return e&&e.then&&"function"==typeof e.then},c.async.potentiallyAsync=function(e,t,r){if(t)return c.Promise.resolve(r.call(e));var n=r.call(e),o=null,i=!0;if(c.isPromise(n)){if(n.then(function(e){n=e,i=!1}).catch(function(e){o=e}),null!==o)throw o;if(i)throw new c.Error("You are using Twig.js in sync mode in combination with async extensions.")}return n},c.Thenable=function(e,t,r){this.then=e,this._value=r?t:null,this._state=r||0},c.Thenable.prototype.catch=function(e){return 1===this._state?this:this.then(null,e)},c.Thenable.resolvedThen=function(e){try{return c.Promise.resolve(e(this._value))}catch(e){return c.Promise.reject(e)}},c.Thenable.rejectedThen=function(e,t){if(!t||"function"!=typeof t)return this;var r,n=this._value;try{r=t(n)}catch(e){r=c.Promise.reject(e)}return c.Promise.resolve(r)},c.Promise=function(e){function t(e){o(2,e)}var r=0,n=null,o=function(e,t){r=e,n=t},i=e;try{i(function(e){o(1,e)},t)}catch(i){t(i)}return 1===r?c.Promise.resolve(n):2===r?c.Promise.reject(n):(o=new c.FullPromise).promise},c.FullPromise=function(){var r=null;function n(e){e(a._value)}function o(e,t){t(a._value)}var s=function(e,t){e=[e,t,-2],(t=r)?-2===t[2]?t=[t,e]:t.push(e):t=e,r=t};function e(e,t){!a._state&&(a._value=t,a._state=e,s=1===e?n:o,r)&&(r=(-2===r[2]?s(r[0],r[1]):r.forEach(function(e){s(e[0],e[1])}),null))}var a=new c.Thenable(function(n,o){var e="function"==typeof n;if(1===a._state&&!e)return c.Promise.resolve(a._value);if(1===a._state)try{return c.Promise.resolve(n(a._value))}catch(n){return c.Promise.reject(n)}var i="function"==typeof o;return new c.Promise(function(t,r){s(e?function(e){try{t(n(e))}catch(e){r(e)}}:t,i?function(e){try{t(o(e))}catch(e){r(e)}}:r)})});return e.promise=a,e},c.Promise.defaultResolved=new c.Thenable(c.Thenable.resolvedThen,void 0,1),c.Promise.emptyStringResolved=new c.Thenable(c.Thenable.resolvedThen,"",1),c.Promise.resolve=function(e){return 0===arguments.length||void 0===e?c.Promise.defaultResolved:c.isPromise(e)?e:""===e?c.Promise.emptyStringResolved:new c.Thenable(c.Thenable.resolvedThen,e,1)},c.Promise.reject=function(e){return new c.Thenable(c.Thenable.rejectedThen,e,2)},c.Promise.all=function(e){var r=new Array(e.length);return c.async.forEach(e,function(e,t){if(c.isPromise(e)){if(1!==e._state)return e.then(function(e){r[t]=e});r[t]=e._value}else r[t]=e}).then(function(){return r})},c.async.forEach=function(r,n){var o=r?r.length:0,i=0;return function e(){var t=null;do{if(i===o)return c.Promise.resolve()}while(t=n(r[i],i),i++,!t||!c.isPromise(t)||1===t._state);return t.then(e)}()},c}},function(e,t,r){"use strict";e.exports=function(a){return a.exports={VERSION:a.VERSION},a.exports.twig=function(e){var t=e.id,r={strictVariables:e.strict_variables||!1,autoescape:null!==e.autoescape&&e.autoescape||!1,allowInlineIncludes:e.allowInlineIncludes||!1,rethrow:e.rethrow||!1,namespaces:e.namespaces};if(a.cache&&t&&a.validateId(t),void 0!==e.debug&&(a.debug=e.debug),void 0!==e.trace&&(a.trace=e.trace),void 0!==e.data)return a.Templates.parsers.twig({data:e.data,path:Object.hasOwnProperty.call(e,"path")?e.path:void 0,module:e.module,id:t,options:r});if(void 0!==e.ref){if(void 0!==e.id)throw new a.Error("Both ref and id cannot be set on a twig.js template.");return a.Templates.load(e.ref)}if(void 0===e.method)return void 0!==e.href?a.Templates.loadRemote(e.href,{id:t,method:"ajax",parser:e.parser||"twig",base:e.base,module:e.module,precompiled:e.precompiled,async:e.async,options:r},e.load,e.error):void 0!==e.path?a.Templates.loadRemote(e.path,{id:t,method:"fs",parser:e.parser||"twig",base:e.base,module:e.module,precompiled:e.precompiled,async:e.async,options:r},e.load,e.error):void 0;if(a.Templates.isRegisteredLoader(e.method))return a.Templates.loadRemote(e.name||e.href||e.path||t||void 0,{id:t,method:e.method,parser:e.parser||"twig",base:e.base,module:e.module,precompiled:e.precompiled,async:e.async,options:r},e.load,e.error);throw new a.Error('Loader for "'+e.method+'" is not defined.')},a.exports.extendFilter=function(e,t){a.filter.extend(e,t)},a.exports.extendFunction=function(e,t){a._function.extend(e,t)},a.exports.extendTest=function(e,t){a.test.extend(e,t)},a.exports.extendTag=function(e){a.logic.extend(e)},a.exports.extend=function(e){e(a)},a.exports.compile=function(e,t){var r=t.filename,n=t.filename,o=new a.Template({data:e,path:n,id:r,options:t.settings["twig options"]});return function(e){return o.render(e)}},a.exports.renderFile=function(e,t,r){"function"==typeof t&&(r=t,t={});var n=(t=t||{}).settings||{},o=n["twig options"],i={path:e,base:n.views,load:function(e){o&&o.allowAsync?e.renderAsync(t).then(function(e){return r(null,e)},r):r(null,String(e.render(t)))},error:function(e){r(e)}};if(o)for(var s in o)Object.hasOwnProperty.call(o,s)&&(i[s]=o[s]);a.exports.twig(i)},a.exports.__express=a.exports.renderFile,a.exports.cache=function(e){a.cache=e},a.exports.path=a.path,a.exports.filters=a.filters,a.exports.tests=a.tests,a.exports.functions=a.functions,a.exports.Promise=a.Promise,a}}],n={},o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=7);function o(e){var t;return(n[e]||(t=n[e]={i:e,l:!1,exports:{}},r[e].call(t.exports,t,t.exports,o),t.l=!0,t)).exports}var r,n});